[2025-10-20T13:05:41.600Z] [INFO] Electron app ready
[2025-10-20T13:05:41.607Z] [INFO] Attempting to kill processes on port 7626
[2025-10-20T13:05:42.384Z] [DEBUG] No process found on port 7626
[2025-10-20T13:05:45.390Z] [INFO] Starting backend server
[2025-10-20T13:05:45.391Z] [INFO] Backend executable path: C:\Users\DIGITAL MARKET\Documents\ProjetWaza\PROJET-POS\POS-ELECTRON\release\win-unpacked\resources\backend\api.exe
[2025-10-20T13:05:45.392Z] [INFO] Starting backend process
[2025-10-20T13:05:50.506Z] [BACKEND-ERR] INFO:     Started server process [21572]
INFO:     Waiting for application startup.
[2025-10-20T13:05:50.509Z] [BACKEND-ERR] INFO:__main__:\U0001f680 Background sync started.
INFO:__main__:\U0001f504 Running sync_data() ...
[2025-10-20T13:05:50.516Z] [BACKEND-ERR] INFO:     Application startup complete.
[2025-10-20T13:05:50.518Z] [BACKEND-ERR] INFO:     Uvicorn running on http://127.0.0.1:7626 (Press CTRL+C to quit)
[2025-10-20T13:05:50.813Z] [INFO] Backend startup timeout reached, assuming ready
[2025-10-20T13:05:50.940Z] [INFO] Checking path: C:\Users\DIGITAL MARKET\Documents\ProjetWaza\PROJET-POS\POS-ELECTRON\release\win-unpacked\resources\app.asar\electron\frontend\out\index.html
[2025-10-20T13:05:50.941Z] [INFO] Checking path: C:\Users\DIGITAL MARKET\Documents\ProjetWaza\PROJET-POS\POS-ELECTRON\release\win-unpacked\resources\app.asar\frontend\out\index.html
[2025-10-20T13:05:50.943Z] [INFO] Found index.html at: C:\Users\DIGITAL MARKET\Documents\ProjetWaza\PROJET-POS\POS-ELECTRON\release\win-unpacked\resources\app.asar\frontend\out\index.html
[2025-10-20T13:05:55.229Z] [BACKEND] Processing table: SEED.ITMMASTER
 ITMMASTER: 546 rows copied.
 Processing table: SEED.ITMSALES
 ITMSALES: 534 rows copied.
 Processing table: SEED.ITMFACILIT
INFO:     127.0.0.1:8271 - "GET /clients HTTP/1.1" 307 Temporary Redirect
[2025-10-20T13:05:55.269Z] [BACKEND] Processing table: SEED.ITMMASTER
INFO:     127.0.0.1:8270 - "GET /adresse/vente HTTP/1.1" 500 Internal Server Error
[2025-10-20T13:05:55.282Z] [BACKEND-ERR] ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
  File "uvicorn\middleware\proxy_headers.py", line 60, in __call__
  File "fastapi\applications.py", line 1133, in __call__
  File "starlette\applications.py", line 113, in __call__
  File "starlette\middleware\errors.py", line 186, in __call__
  File "starlette\middleware\errors.py", line 164, in __call__
  File "starlette\middleware\cors.py", line 85, in __call__
  File "starlette\middleware\exceptions.py", line 63, in __call__
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\middleware\asyncexitstack.py", line 18, in __call__
  File "starlette\routing.py", line 716, in __call__
  File "starlette\routing.py", line 736, in app
  File "starlette\routing.py", line 290, in handle
  File "fastapi\routing.py", line 123, in app
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\routing.py", line 109, in app
  File "fastapi\routing.py", line 387, in app
  File "fastapi\routing.py", line 290, in run_endpoint_function
  File "starlette\concurrency.py", line 38, in run_in_threadpool
  File "anyio\to_thread.py", line 56, in run_sync
  File "anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
  File "anyio\_backends\_asyncio.py", line 976, in run
  File "src\addresse\controller.py", line 13, in read_adresse_vente
  File "src\addresse\service.py", line 11, in get_adresse_vente
sqlite3.OperationalError: no such table: FACILITY
[2025-10-20T13:05:55.619Z] [BACKEND] Ex�cution de la requ�te pour l'�l�ment de facturation 0 avec query=
        SELECT T1.INVDTA_0, T1.INVDTAAMT_0, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_0 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
INFO:     127.0.0.1:8273 - "GET /adresse/expedition?legacy_comp=undefined HTTP/1.1" 500 Internal Server Error
[2025-10-20T13:05:55.633Z] [BACKEND-ERR] ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
  File "uvicorn\middleware\proxy_headers.py", line 60, in __call__
  File "fastapi\applications.py", line 1133, in __call__
  File "starlette\applications.py", line 113, in __call__
  File "starlette\middleware\errors.py", line 186, in __call__
  File "starlette\middleware\errors.py", line 164, in __call__
  File "starlette\middleware\cors.py", line 85, in __call__
  File "starlette\middleware\exceptions.py", line 63, in __call__
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\middleware\asyncexitstack.py", line 18, in __call__
  File "starlette\routing.py", line 716, in __call__
  File "starlette\routing.py", line 736, in app
  File "starlette\routing.py", line 290, in handle
  File "fastapi\routing.py", line 123, in app
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\routing.py", line 109, in app
  File "fastapi\routing.py", line 387, in app
  File "fastapi\routing.py", line 290, in run_endpoint_function
  File "starlette\concurrency.py", line 38, in run_in_threadpool
  File "anyio\to_thread.py", line 56, in run_sync
  File "anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
  File "anyio\_backends\_asyncio.py", line 976, in run
  File "src\addresse\controller.py", line 21, in read_adresse_expedition
  File "src\addresse\service.py", line 46, in get_adresse_expedition
sqlite3.OperationalError: no such table: FACILITY
[2025-10-20T13:05:55.636Z] [BACKEND] INFO:     127.0.0.1:8271 - "GET /facture/element?customer_code= HTTP/1.1" 500 Internal Server Error
[2025-10-20T13:05:55.652Z] [BACKEND-ERR] ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
  File "uvicorn\middleware\proxy_headers.py", line 60, in __call__
  File "fastapi\applications.py", line 1133, in __call__
  File "starlette\applications.py", line 113, in __call__
  File "starlette\middleware\errors.py", line 186, in __call__
  File "starlette\middleware\errors.py", line 164, in __call__
  File "starlette\middleware\cors.py", line 85, in __call__
  File "starlette\middleware\exceptions.py", line 63, in __call__
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\middleware\asyncexitstack.py", line 18, in __call__
  File "starlette\routing.py", line 716, in __call__
  File "starlette\routing.py", line 736, in app
  File "starlette\routing.py", line 290, in handle
  File "fastapi\routing.py", line 123, in app
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\routing.py", line 109, in app
  File "fastapi\routing.py", line 387, in app
  File "fastapi\routing.py", line 290, in run_endpoint_function
  File "starlette\concurrency.py", line 38, in run_in_threadpool
  File "anyio\to_thread.py", line 56, in run_sync
  File "anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
  File "anyio\_backends\_asyncio.py", line 976, in run
  File "src\facturation\controller.py", line 29, in read_element_facturation
  File "src\facturation\service.py", line 52, in get_element_facturation
sqlite3.OperationalError: no such table: BPCUSTOMER
[2025-10-20T13:05:55.656Z] [BACKEND] INFO:     127.0.0.1:8275 - "GET /articles/?site_id= HTTP/1.1" 500 Internal Server Error
[2025-10-20T13:05:55.705Z] [BACKEND-ERR] ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
  File "uvicorn\middleware\proxy_headers.py", line 60, in __call__
  File "fastapi\applications.py", line 1133, in __call__
  File "starlette\applications.py", line 113, in __call__
  File "starlette\middleware\errors.py", line 186, in __call__
  File "starlette\middleware\errors.py", line 164, in __call__
  File "starlette\middleware\cors.py", line 85, in __call__
  File "starlette\middleware\exceptions.py", line 63, in __call__
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\middleware\asyncexitstack.py", line 18, in __call__
  File "starlette\routing.py", line 716, in __call__
  File "starlette\routing.py", line 736, in app
  File "starlette\routing.py", line 290, in handle
  File "fastapi\routing.py", line 123, in app
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\routing.py", line 109, in app
  File "fastapi\routing.py", line 387, in app
  File "fastapi\routing.py", line 290, in run_endpoint_function
  File "starlette\concurrency.py", line 38, in run_in_threadpool
  File "anyio\to_thread.py", line 56, in run_sync
  File "anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
  File "anyio\_backends\_asyncio.py", line 976, in run
  File "src\articles\controller.py", line 17, in create_article
  File "src\articles\service.py", line 15, in get_articles_site
sqlite3.OperationalError: no such table: STOCK
[2025-10-20T13:05:55.707Z] [BACKEND] INFO:     127.0.0.1:8272 - "GET /clients/tiers/?customer_code= HTTP/1.1" 500 Internal Server Error
[2025-10-20T13:05:55.721Z] [BACKEND-ERR] ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
  File "uvicorn\middleware\proxy_headers.py", line 60, in __call__
  File "fastapi\applications.py", line 1133, in __call__
  File "starlette\applications.py", line 113, in __call__
  File "starlette\middleware\errors.py", line 186, in __call__
  File "starlette\middleware\errors.py", line 164, in __call__
  File "starlette\middleware\cors.py", line 85, in __call__
  File "starlette\middleware\exceptions.py", line 63, in __call__
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\middleware\asyncexitstack.py", line 18, in __call__
  File "starlette\routing.py", line 716, in __call__
  File "starlette\routing.py", line 736, in app
  File "starlette\routing.py", line 290, in handle
  File "fastapi\routing.py", line 123, in app
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\routing.py", line 109, in app
  File "fastapi\routing.py", line 387, in app
  File "fastapi\routing.py", line 290, in run_endpoint_function
  File "starlette\concurrency.py", line 38, in run_in_threadpool
  File "anyio\to_thread.py", line 56, in run_sync
  File "anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
  File "anyio\_backends\_asyncio.py", line 976, in run
  File "src\clients\controller.py", line 17, in read_tiers
  File "src\clients\serivce.py", line 41, in get_tiers
sqlite3.OperationalError: no such table: BPARTNER
[2025-10-20T13:05:55.723Z] [BACKEND] INFO:     127.0.0.1:8269 - "GET /command/type HTTP/1.1" 500 Internal Server Error
[2025-10-20T13:05:55.740Z] [BACKEND-ERR] ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
  File "uvicorn\middleware\proxy_headers.py", line 60, in __call__
  File "fastapi\applications.py", line 1133, in __call__
  File "starlette\applications.py", line 113, in __call__
  File "starlette\middleware\errors.py", line 186, in __call__
  File "starlette\middleware\errors.py", line 164, in __call__
  File "starlette\middleware\cors.py", line 85, in __call__
  File "starlette\middleware\exceptions.py", line 63, in __call__
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\middleware\asyncexitstack.py", line 18, in __call__
  File "starlette\routing.py", line 716, in __call__
  File "starlette\routing.py", line 736, in app
  File "starlette\routing.py", line 290, in handle
  File "fastapi\routing.py", line 123, in app
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\routing.py", line 109, in app
  File "fastapi\routing.py", line 387, in app
  File "fastapi\routing.py", line 290, in run_endpoint_function
  File "starlette\concurrency.py", line 38, in run_in_threadpool
  File "anyio\to_thread.py", line 56, in run_sync
  File "anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
  File "anyio\_backends\_asyncio.py", line 976, in run
  File "src\command\controller.py", line 13, in read_commande_types
  File "src\command\service.py", line 12, in get_command_types
sqlite3.OperationalError: no such table: TABSOHTYP
[2025-10-20T13:05:55.845Z] [BACKEND] INFO:     127.0.0.1:8277 - "GET /currency/code?customer_code= HTTP/1.1" 500 Internal Server Error
[2025-10-20T13:05:55.860Z] [BACKEND-ERR] ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
  File "uvicorn\middleware\proxy_headers.py", line 60, in __call__
  File "fastapi\applications.py", line 1133, in __call__
  File "starlette\applications.py", line 113, in __call__
  File "starlette\middleware\errors.py", line 186, in __call__
  File "starlette\middleware\errors.py", line 164, in __call__
  File "starlette\middleware\cors.py", line 85, in __call__
  File "starlette\middleware\exceptions.py", line 63, in __call__
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\middleware\asyncexitstack.py", line 18, in __call__
  File "starlette\routing.py", line 716, in __call__
  File "starlette\routing.py", line 736, in app
  File "starlette\routing.py", line 290, in handle
  File "fastapi\routing.py", line 123, in app
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\routing.py", line 109, in app
  File "fastapi\routing.py", line 387, in app
  File "fastapi\routing.py", line 290, in run_endpoint_function
  File "starlette\concurrency.py", line 38, in run_in_threadpool
  File "anyio\to_thread.py", line 56, in run_sync
  File "anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
  File "anyio\_backends\_asyncio.py", line 976, in run
  File "src\currency\controller.py", line 12, in get_currency_code
  File "src\currency\service.py", line 9, in get_commande_currrency
sqlite3.OperationalError: no such table: BPCUSTOMER
[2025-10-20T13:05:55.861Z] [BACKEND] INFO:     127.0.0.1:8278 - "GET /taxe/regime?customer_code= HTTP/1.1" 500 Internal Server Error
[2025-10-20T13:05:55.873Z] [BACKEND-ERR] ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
  File "uvicorn\middleware\proxy_headers.py", line 60, in __call__
  File "fastapi\applications.py", line 1133, in __call__
  File "starlette\applications.py", line 113, in __call__
  File "starlette\middleware\errors.py", line 186, in __call__
  File "starlette\middleware\errors.py", line 164, in __call__
  File "starlette\middleware\cors.py", line 85, in __call__
  File "starlette\middleware\exceptions.py", line 63, in __call__
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\middleware\asyncexitstack.py", line 18, in __call__
  File "starlette\routing.py", line 716, in __call__
  File "starlette\routing.py", line 736, in app
  File "starlette\routing.py", line 290, in handle
  File "fastapi\routing.py", line 123, in app
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\routing.py", line 109, in app
  File "fastapi\routing.py", line 387, in app
  File "fastapi\routing.py", line 290, in run_endpoint_function
  File "starlette\concurrency.py", line 38, in run_in_threadpool
  File "anyio\to_thread.py", line 56, in run_sync
  File "anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
  File "anyio\_backends\_asyncio.py", line 976, in run
  File "src\taxe\controller.py", line 14, in read_regime_taxe
  File "src\taxe\service.py", line 14, in get_regime_taxe
sqlite3.OperationalError: no such table: BPCUSTOMER
[2025-10-20T13:05:55.900Z] [BACKEND] INFO:     127.0.0.1:8279 - "GET /clients/ HTTP/1.1" 500 Internal Server Error
[2025-10-20T13:05:55.916Z] [BACKEND-ERR] ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
  File "uvicorn\middleware\proxy_headers.py", line 60, in __call__
  File "fastapi\applications.py", line 1133, in __call__
  File "starlette\applications.py", line 113, in __call__
  File "starlette\middleware\errors.py", line 186, in __call__
  File "starlette\middleware\errors.py", line 164, in __call__
  File "starlette\middleware\cors.py", line 85, in __call__
  File "starlette\middleware\exceptions.py", line 63, in __call__
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\middleware\asyncexitstack.py", line 18, in __call__
  File "starlette\routing.py", line 716, in __call__
  File "starlette\routing.py", line 736, in app
  File "starlette\routing.py", line 290, in handle
  File "fastapi\routing.py", line 123, in app
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\routing.py", line 109, in app
  File "fastapi\routing.py", line 387, in app
  File "fastapi\routing.py", line 290, in run_endpoint_function
  File "starlette\concurrency.py", line 38, in run_in_threadpool
  File "anyio\to_thread.py", line 56, in run_sync
  File "anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
  File "anyio\_backends\_asyncio.py", line 976, in run
  File "src\clients\controller.py", line 13, in read_clients
  File "src\clients\serivce.py", line 12, in get_clients
sqlite3.OperationalError: no such table: BPCUSTOMER
[2025-10-20T13:05:58.450Z] [BACKEND] ITMMASTER: 546 rows copied.
 Processing table: SEED.ITMSALES
 ITMSALES: 534 rows copied.
 Processing table: SEED.ITMFACILIT
INFO:     127.0.0.1:8286 - "GET /livraison/transporteur HTTP/1.1" 500 Internal Server Error
[2025-10-20T13:05:58.460Z] [BACKEND-ERR] ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
  File "uvicorn\middleware\proxy_headers.py", line 60, in __call__
  File "fastapi\applications.py", line 1133, in __call__
  File "starlette\applications.py", line 113, in __call__
  File "starlette\middleware\errors.py", line 186, in __call__
  File "starlette\middleware\errors.py", line 164, in __call__
  File "starlette\middleware\cors.py", line 85, in __call__
  File "starlette\middleware\exceptions.py", line 63, in __call__
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\middleware\asyncexitstack.py", line 18, in __call__
  File "starlette\routing.py", line 716, in __call__
  File "starlette\routing.py", line 736, in app
  File "starlette\routing.py", line 290, in handle
  File "fastapi\routing.py", line 123, in app
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\routing.py", line 109, in app
  File "fastapi\routing.py", line 387, in app
  File "fastapi\routing.py", line 290, in run_endpoint_function
  File "starlette\concurrency.py", line 38, in run_in_threadpool
  File "anyio\to_thread.py", line 56, in run_sync
  File "anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
  File "anyio\_backends\_asyncio.py", line 976, in run
  File "src\livraison\controller.py", line 17, in read_transporteur
  File "src\livraison\service.py", line 27, in get_transporteur
sqlite3.OperationalError: no such table: BPCARRIER
[2025-10-20T13:05:58.461Z] [BACKEND] INFO:     127.0.0.1:8285 - "GET /livraison/modelivraison HTTP/1.1" 500 Internal Server Error
[2025-10-20T13:05:58.468Z] [BACKEND-ERR] ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
  File "uvicorn\middleware\proxy_headers.py", line 60, in __call__
  File "fastapi\applications.py", line 1133, in __call__
  File "starlette\applications.py", line 113, in __call__
  File "starlette\middleware\errors.py", line 186, in __call__
  File "starlette\middleware\errors.py", line 164, in __call__
  File "starlette\middleware\cors.py", line 85, in __call__
  File "starlette\middleware\exceptions.py", line 63, in __call__
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\middleware\asyncexitstack.py", line 18, in __call__
  File "starlette\routing.py", line 716, in __call__
  File "starlette\routing.py", line 736, in app
  File "starlette\routing.py", line 290, in handle
  File "fastapi\routing.py", line 123, in app
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\routing.py", line 109, in app
  File "fastapi\routing.py", line 387, in app
  File "fastapi\routing.py", line 290, in run_endpoint_function
  File "starlette\concurrency.py", line 38, in run_in_threadpool
  File "anyio\to_thread.py", line 56, in run_sync
  File "anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
  File "anyio\_backends\_asyncio.py", line 976, in run
  File "src\livraison\controller.py", line 13, in read_mode_livraison
  File "src\livraison\service.py", line 12, in get_mode_livraison
sqlite3.OperationalError: no such table: TABMODELIV
[2025-10-20T13:05:59.474Z] [BACKEND] ITMFACILIT: 3684 rows copied.
 Processing table: SEED.BPARTNER
INFO:     127.0.0.1:8291 - "GET /taxe/regime?customer_code= HTTP/1.1" 500 Internal Server Error
[2025-10-20T13:05:59.486Z] [BACKEND-ERR] ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
  File "uvicorn\middleware\proxy_headers.py", line 60, in __call__
  File "fastapi\applications.py", line 1133, in __call__
  File "starlette\applications.py", line 113, in __call__
  File "starlette\middleware\errors.py", line 186, in __call__
  File "starlette\middleware\errors.py", line 164, in __call__
  File "starlette\middleware\cors.py", line 85, in __call__
  File "starlette\middleware\exceptions.py", line 63, in __call__
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\middleware\asyncexitstack.py", line 18, in __call__
  File "starlette\routing.py", line 716, in __call__
  File "starlette\routing.py", line 736, in app
  File "starlette\routing.py", line 290, in handle
  File "fastapi\routing.py", line 123, in app
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\routing.py", line 109, in app
  File "fastapi\routing.py", line 387, in app
  File "fastapi\routing.py", line 290, in run_endpoint_function
  File "starlette\concurrency.py", line 38, in run_in_threadpool
  File "anyio\to_thread.py", line 56, in run_sync
  File "anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
  File "anyio\_backends\_asyncio.py", line 976, in run
  File "src\taxe\controller.py", line 14, in read_regime_taxe
  File "src\taxe\service.py", line 14, in get_regime_taxe
sqlite3.OperationalError: no such table: BPCUSTOMER
[2025-10-20T13:05:59.487Z] [BACKEND] INFO:     127.0.0.1:8289 - "GET /clients/tiers/?customer_code= HTTP/1.1" 500 Internal Server Error
[2025-10-20T13:05:59.502Z] [BACKEND-ERR] ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
  File "uvicorn\middleware\proxy_headers.py", line 60, in __call__
  File "fastapi\applications.py", line 1133, in __call__
  File "starlette\applications.py", line 113, in __call__
  File "starlette\middleware\errors.py", line 186, in __call__
  File "starlette\middleware\errors.py", line 164, in __call__
  File "starlette\middleware\cors.py", line 85, in __call__
  File "starlette\middleware\exceptions.py", line 63, in __call__
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\middleware\asyncexitstack.py", line 18, in __call__
  File "starlette\routing.py", line 716, in __call__
  File "starlette\routing.py", line 736, in app
  File "starlette\routing.py", line 290, in handle
  File "fastapi\routing.py", line 123, in app
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\routing.py", line 109, in app
  File "fastapi\routing.py", line 387, in app
  File "fastapi\routing.py", line 290, in run_endpoint_function
  File "starlette\concurrency.py", line 38, in run_in_threadpool
  File "anyio\to_thread.py", line 56, in run_sync
  File "anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
  File "anyio\_backends\_asyncio.py", line 976, in run
  File "src\clients\controller.py", line 17, in read_tiers
  File "src\clients\serivce.py", line 41, in get_tiers
sqlite3.OperationalError: no such table: BPARTNER
[2025-10-20T13:05:59.519Z] [BACKEND] INFO:     127.0.0.1:8290 - "GET /adresse/livraison?code_client= HTTP/1.1" 500 Internal Server Error
[2025-10-20T13:05:59.535Z] [BACKEND-ERR] ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
  File "uvicorn\middleware\proxy_headers.py", line 60, in __call__
  File "fastapi\applications.py", line 1133, in __call__
  File "starlette\applications.py", line 113, in __call__
  File "starlette\middleware\errors.py", line 186, in __call__
  File "starlette\middleware\errors.py", line 164, in __call__
  File "starlette\middleware\cors.py", line 85, in __call__
  File "starlette\middleware\exceptions.py", line 63, in __call__
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\middleware\asyncexitstack.py", line 18, in __call__
  File "starlette\routing.py", line 716, in __call__
  File "starlette\routing.py", line 736, in app
  File "starlette\routing.py", line 290, in handle
  File "fastapi\routing.py", line 123, in app
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\routing.py", line 109, in app
  File "fastapi\routing.py", line 387, in app
  File "fastapi\routing.py", line 290, in run_endpoint_function
  File "starlette\concurrency.py", line 38, in run_in_threadpool
  File "anyio\to_thread.py", line 56, in run_sync
  File "anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
  File "anyio\_backends\_asyncio.py", line 976, in run
  File "src\addresse\controller.py", line 17, in read_adresse_livraison
  File "src\addresse\service.py", line 30, in get_adresse_livraison
sqlite3.OperationalError: no such table: BPADDRESS
[2025-10-20T13:05:59.537Z] [BACKEND] INFO:     127.0.0.1:8292 - "GET /currency/code?customer_code= HTTP/1.1" 500 Internal Server Error
[2025-10-20T13:05:59.552Z] [BACKEND-ERR] ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
  File "uvicorn\middleware\proxy_headers.py", line 60, in __call__
  File "fastapi\applications.py", line 1133, in __call__
  File "starlette\applications.py", line 113, in __call__
  File "starlette\middleware\errors.py", line 186, in __call__
  File "starlette\middleware\errors.py", line 164, in __call__
  File "starlette\middleware\cors.py", line 85, in __call__
  File "starlette\middleware\exceptions.py", line 63, in __call__
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\middleware\asyncexitstack.py", line 18, in __call__
  File "starlette\routing.py", line 716, in __call__
  File "starlette\routing.py", line 736, in app
  File "starlette\routing.py", line 290, in handle
  File "fastapi\routing.py", line 123, in app
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\routing.py", line 109, in app
  File "fastapi\routing.py", line 387, in app
  File "fastapi\routing.py", line 290, in run_endpoint_function
  File "starlette\concurrency.py", line 38, in run_in_threadpool
  File "anyio\to_thread.py", line 56, in run_sync
  File "anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
  File "anyio\_backends\_asyncio.py", line 976, in run
  File "src\currency\controller.py", line 12, in get_currency_code
  File "src\currency\service.py", line 9, in get_commande_currrency
sqlite3.OperationalError: no such table: BPCUSTOMER
[2025-10-20T13:05:59.729Z] [BACKEND] INFO:     127.0.0.1:8293 - "GET /clients/tiers/?customer_code= HTTP/1.1" 500 Internal Server Error
[2025-10-20T13:05:59.745Z] [BACKEND-ERR] ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
  File "uvicorn\middleware\proxy_headers.py", line 60, in __call__
  File "fastapi\applications.py", line 1133, in __call__
  File "starlette\applications.py", line 113, in __call__
  File "starlette\middleware\errors.py", line 186, in __call__
  File "starlette\middleware\errors.py", line 164, in __call__
  File "starlette\middleware\cors.py", line 85, in __call__
  File "starlette\middleware\exceptions.py", line 63, in __call__
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\middleware\asyncexitstack.py", line 18, in __call__
  File "starlette\routing.py", line 716, in __call__
  File "starlette\routing.py", line 736, in app
  File "starlette\routing.py", line 290, in handle
  File "fastapi\routing.py", line 123, in app
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\routing.py", line 109, in app
  File "fastapi\routing.py", line 387, in app
  File "fastapi\routing.py", line 290, in run_endpoint_function
  File "starlette\concurrency.py", line 38, in run_in_threadpool
  File "anyio\to_thread.py", line 56, in run_sync
  File "anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
  File "anyio\_backends\_asyncio.py", line 976, in run
  File "src\clients\controller.py", line 17, in read_tiers
  File "src\clients\serivce.py", line 41, in get_tiers
sqlite3.OperationalError: no such table: BPCUSTOMER
[2025-10-20T13:06:00.483Z] [BACKEND] BPARTNER: 367 rows copied.
 Processing table: SEED.BPCUSTOMER
Ex�cution de la requ�te pour l'�l�ment de facturation 0 avec query=
        SELECT T1.INVDTA_0, T1.INVDTAAMT_0, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_0 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
INFO:     127.0.0.1:8296 - "GET /facture/escomte?customer_code= HTTP/1.1" 500 Internal Server Error
[2025-10-20T13:06:00.497Z] [BACKEND-ERR] ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
  File "uvicorn\middleware\proxy_headers.py", line 60, in __call__
  File "fastapi\applications.py", line 1133, in __call__
  File "starlette\applications.py", line 113, in __call__
  File "starlette\middleware\errors.py", line 186, in __call__
  File "starlette\middleware\errors.py", line 164, in __call__
  File "starlette\middleware\cors.py", line 85, in __call__
  File "starlette\middleware\exceptions.py", line 63, in __call__
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\middleware\asyncexitstack.py", line 18, in __call__
  File "starlette\routing.py", line 716, in __call__
  File "starlette\routing.py", line 736, in app
  File "starlette\routing.py", line 290, in handle
  File "fastapi\routing.py", line 123, in app
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\routing.py", line 109, in app
  File "fastapi\routing.py", line 387, in app
  File "fastapi\routing.py", line 290, in run_endpoint_function
  File "starlette\concurrency.py", line 38, in run_in_threadpool
  File "anyio\to_thread.py", line 56, in run_sync
  File "anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
  File "anyio\_backends\_asyncio.py", line 976, in run
  File "src\facturation\controller.py", line 19, in read_escompte
  File "src\facturation\service.py", line 25, in get_escomte
TypeError: 'NoneType' object is not subscriptable
[2025-10-20T13:06:00.515Z] [BACKEND] INFO:     127.0.0.1:8298 - "GET /facture/element?customer_code= HTTP/1.1" 500 Internal Server Error
[2025-10-20T13:06:00.527Z] [BACKEND-ERR] ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
  File "uvicorn\middleware\proxy_headers.py", line 60, in __call__
  File "fastapi\applications.py", line 1133, in __call__
  File "starlette\applications.py", line 113, in __call__
  File "starlette\middleware\errors.py", line 186, in __call__
  File "starlette\middleware\errors.py", line 164, in __call__
  File "starlette\middleware\cors.py", line 85, in __call__
  File "starlette\middleware\exceptions.py", line 63, in __call__
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\middleware\asyncexitstack.py", line 18, in __call__
  File "starlette\routing.py", line 716, in __call__
  File "starlette\routing.py", line 736, in app
  File "starlette\routing.py", line 290, in handle
  File "fastapi\routing.py", line 123, in app
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\routing.py", line 109, in app
  File "fastapi\routing.py", line 387, in app
  File "fastapi\routing.py", line 290, in run_endpoint_function
  File "starlette\concurrency.py", line 38, in run_in_threadpool
  File "anyio\to_thread.py", line 56, in run_sync
  File "anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
  File "anyio\_backends\_asyncio.py", line 976, in run
  File "src\facturation\controller.py", line 29, in read_element_facturation
  File "src\facturation\service.py", line 52, in get_element_facturation
sqlite3.OperationalError: no such table: SFOOTINV
[2025-10-20T13:06:00.546Z] [BACKEND] INFO:     127.0.0.1:8295 - "GET /facture/payment-condition?customer_code= HTTP/1.1" 500 Internal Server Error
[2025-10-20T13:06:00.581Z] [BACKEND-ERR] ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
  File "uvicorn\middleware\proxy_headers.py", line 60, in __call__
  File "fastapi\applications.py", line 1133, in __call__
  File "starlette\applications.py", line 113, in __call__
  File "starlette\middleware\errors.py", line 186, in __call__
  File "starlette\middleware\errors.py", line 164, in __call__
  File "starlette\middleware\cors.py", line 85, in __call__
  File "starlette\middleware\exceptions.py", line 63, in __call__
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\middleware\asyncexitstack.py", line 18, in __call__
  File "starlette\routing.py", line 716, in __call__
  File "starlette\routing.py", line 736, in app
  File "starlette\routing.py", line 290, in handle
  File "fastapi\routing.py", line 123, in app
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\routing.py", line 109, in app
  File "fastapi\routing.py", line 387, in app
  File "fastapi\routing.py", line 290, in run_endpoint_function
  File "starlette\concurrency.py", line 38, in run_in_threadpool
  File "anyio\to_thread.py", line 56, in run_sync
  File "anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
  File "anyio\_backends\_asyncio.py", line 976, in run
  File "src\facturation\controller.py", line 14, in read_payment_method
  File "src\facturation\service.py", line 14, in get_payment_methode
TypeError: 'NoneType' object is not subscriptable
[2025-10-20T13:06:00.583Z] [BACKEND] INFO:     127.0.0.1:8297 - "GET /facture/condfac?customer_code= HTTP/1.1" 500 Internal Server Error
[2025-10-20T13:06:00.596Z] [BACKEND-ERR] ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
  File "uvicorn\middleware\proxy_headers.py", line 60, in __call__
  File "fastapi\applications.py", line 1133, in __call__
  File "starlette\applications.py", line 113, in __call__
  File "starlette\middleware\errors.py", line 186, in __call__
  File "starlette\middleware\errors.py", line 164, in __call__
  File "starlette\middleware\cors.py", line 85, in __call__
  File "starlette\middleware\exceptions.py", line 63, in __call__
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\middleware\asyncexitstack.py", line 18, in __call__
  File "starlette\routing.py", line 716, in __call__
  File "starlette\routing.py", line 736, in app
  File "starlette\routing.py", line 290, in handle
  File "fastapi\routing.py", line 123, in app
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\routing.py", line 109, in app
  File "fastapi\routing.py", line 387, in app
  File "fastapi\routing.py", line 290, in run_endpoint_function
  File "starlette\concurrency.py", line 38, in run_in_threadpool
  File "anyio\to_thread.py", line 56, in run_sync
  File "anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
  File "anyio\_backends\_asyncio.py", line 976, in run
  File "src\facturation\controller.py", line 24, in read_cond_fac
  File "src\facturation\service.py", line 36, in get_cond_fac
TypeError: 'NoneType' object is not subscriptable
[2025-10-20T13:06:01.944Z] [BACKEND] BPCUSTOMER: 172 rows copied.
 Processing table: SEED.BPCUSTMVT
 BPCUSTMVT: 231 rows copied.
 Processing table: SEED.BPDLVCUST
INFO:     127.0.0.1:8305 - "GET /clients HTTP/1.1" 307 Temporary Redirect
[2025-10-20T13:06:01.972Z] [BACKEND] INFO:     127.0.0.1:8304 - "GET /command/type HTTP/1.1" 500 Internal Server Error
[2025-10-20T13:06:01.995Z] [BACKEND-ERR] ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
  File "uvicorn\middleware\proxy_headers.py", line 60, in __call__
  File "fastapi\applications.py", line 1133, in __call__
  File "starlette\applications.py", line 113, in __call__
  File "starlette\middleware\errors.py", line 186, in __call__
  File "starlette\middleware\errors.py", line 164, in __call__
  File "starlette\middleware\cors.py", line 85, in __call__
  File "starlette\middleware\exceptions.py", line 63, in __call__
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\middleware\asyncexitstack.py", line 18, in __call__
  File "starlette\routing.py", line 716, in __call__
  File "starlette\routing.py", line 736, in app
  File "starlette\routing.py", line 290, in handle
  File "fastapi\routing.py", line 123, in app
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\routing.py", line 109, in app
  File "fastapi\routing.py", line 387, in app
  File "fastapi\routing.py", line 290, in run_endpoint_function
  File "starlette\concurrency.py", line 38, in run_in_threadpool
  File "anyio\to_thread.py", line 56, in run_sync
  File "anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
  File "anyio\_backends\_asyncio.py", line 976, in run
  File "src\command\controller.py", line 13, in read_commande_types
  File "src\command\service.py", line 12, in get_command_types
sqlite3.OperationalError: no such table: TABSOHTYP
[2025-10-20T13:06:01.998Z] [BACKEND] INFO:     127.0.0.1:8303 - "GET /adresse/vente HTTP/1.1" 500 Internal Server Error
[2025-10-20T13:06:02.017Z] [BACKEND-ERR] ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
  File "uvicorn\middleware\proxy_headers.py", line 60, in __call__
  File "fastapi\applications.py", line 1133, in __call__
  File "starlette\applications.py", line 113, in __call__
  File "starlette\middleware\errors.py", line 186, in __call__
  File "starlette\middleware\errors.py", line 164, in __call__
  File "starlette\middleware\cors.py", line 85, in __call__
  File "starlette\middleware\exceptions.py", line 63, in __call__
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\middleware\asyncexitstack.py", line 18, in __call__
  File "starlette\routing.py", line 716, in __call__
  File "starlette\routing.py", line 736, in app
  File "starlette\routing.py", line 290, in handle
  File "fastapi\routing.py", line 123, in app
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\routing.py", line 109, in app
  File "fastapi\routing.py", line 387, in app
  File "fastapi\routing.py", line 290, in run_endpoint_function
  File "starlette\concurrency.py", line 38, in run_in_threadpool
  File "anyio\to_thread.py", line 56, in run_sync
  File "anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
  File "anyio\_backends\_asyncio.py", line 976, in run
  File "src\addresse\controller.py", line 13, in read_adresse_vente
  File "src\addresse\service.py", line 11, in get_adresse_vente
sqlite3.OperationalError: no such table: FACILITY
[2025-10-20T13:06:02.039Z] [BACKEND] INFO:     127.0.0.1:8305 - "GET /clients/ HTTP/1.1" 200 OK
[2025-10-20T13:07:02.511Z] [BACKEND-ERR] INFO:__main__:\u2705 sync_data completed.
[2025-10-20T13:07:59.221Z] [BACKEND] ITMFACILIT: 3684 rows copied.
 Processing table: SEED.BPARTNER
 BPARTNER: 367 rows copied.
 Processing table: SEED.BPCUSTOMER
 BPDLVCUST: 217 rows copied.
 Processing table: SEED.SALESREP
 BPCUSTOMER: 172 rows copied.
 Processing table: SEED.BPCUSTMVT
 SALESREP: 31 rows copied.
 Processing table: SEED.SPRICLINK
 SPRICLINK: 0 rows copied.
 Processing table: SEED.PRICSTRUCT
 PRICSTRUCT: 5 rows copied.
 Processing table: SEED.SPREASON
 SPREASON: 18 rows copied.
 Processing table: SEED.SPRICCONF
 BPCUSTMVT: 231 rows copied.
 Processing table: SEED.BPDLVCUST
 BPDLVCUST: 217 rows copied.
 Processing table: SEED.SALESREP
 SPRICCONF: 36 rows copied.
 Processing table: SEED.SPRICLIST
 SALESREP: 31 rows copied.
 Processing table: SEED.SPRICLINK
 SPRICLIST: 153 rows copied.
 Processing table: SEED.SORDER
 SPRICLINK: 0 rows copied.
 Processing table: SEED.PRICSTRUCT
 PRICSTRUCT: 5 rows copied.
 Processing table: SEED.SPREASON
 SORDER: 1194 rows copied.
 Processing table: SEED.PIMPL
 SPREASON: 18 rows copied.
 Processing table: SEED.SPRICCONF
 SPRICCONF: 36 rows copied.
 Processing table: SEED.SPRICLIST
 PIMPL: 975 rows copied.
 Processing table: SEED.TABMODELIV
 SPRICLIST: 153 rows copied.
 Processing table: SEED.SORDER
 TABMODELIV: 12 rows copied.
 Processing table: SEED.STOCK
 SORDER: 1194 rows copied.
 Processing table: SEED.PIMPL
 STOCK: 8315 rows copied.
 Processing table: SEED.FACILITY
 PIMPL: 975 rows copied.
 Processing table: SEED.TABMODELIV
 FACILITY: 76 rows copied.
 Processing table: SEED.SORDER
 TABMODELIV: 12 rows copied.
 Processing table: SEED.STOCK
 STOCK: 8315 rows copied.
 Processing table: SEED.FACILITY
 SORDER: 1194 rows copied.
 Processing table: SEED.BPCARRIER
 FACILITY: 76 rows copied.
 Processing table: SEED.SORDER
 BPCARRIER: 17 rows copied.
 Processing table: SEED.COMPANY
 COMPANY: 51 rows copied.
 Processing table: SEED.BPDLVCUST
 SORDER: 1194 rows copied.
 Processing table: SEED.BPCARRIER
 BPDLVCUST: 217 rows copied.
 Processing table: SEED.TABSOHTYP
 BPCARRIER: 17 rows copied.
 Processing table: SEED.COMPANY
 TABSOHTYP: 10 rows copied.
 Processing table: SEED.TABVACBPR
 COMPANY: 51 rows copied.
 Processing table: SEED.BPDLVCUST
 TABVACBPR: 139 rows copied.
 Processing table: SEED.SVCRVAT
 BPDLVCUST: 217 rows copied.
 Processing table: SEED.TABSOHTYP
 TABSOHTYP: 10 rows copied.
 Processing table: SEED.TABVACBPR
 SVCRVAT: 3129 rows copied.
 Processing table: SEED.ITMCATEG
 ITMCATEG: 36 rows copied.
 Processing table: SEED.CBLOB
 TABVACBPR: 139 rows copied.
 Processing table: SEED.SVCRVAT
 SVCRVAT: 3129 rows copied.
 Processing table: SEED.ITMCATEG
 CBLOB: 437 rows copied.
 Processing table: SEED.BLOBEXPENSES
 ITMCATEG: 36 rows copied.
 Processing table: SEED.CBLOB
 BLOBEXPENSES: 8 rows copied.
 Processing table: SEED.ABLOB
 CBLOB: 437 rows copied.
 Processing table: SEED.BLOBEXPENSES
 ABLOB: 114 rows copied.
 Processing table: SEED.AUTILIS
 AUTILIS: 84 rows copied.
 Processing table: SEED.AMENUSER
 BLOBEXPENSES: 8 rows copied.
 Processing table: SEED.ABLOB
 ABLOB: 114 rows copied.
 Processing table: SEED.AUTILIS
 AUTILIS: 84 rows copied.
 Processing table: SEED.AMENUSER
 AMENUSER: 11235 rows copied.
 Processing table: SEED.TABVAT
 AMENUSER: 11235 rows copied.
 Processing table: SEED.TABVAT
 TABVAT: 428 rows copied.
 Processing table: SEED.BPADDRESS
 TABVAT: 428 rows copied.
 Processing table: SEED.BPADDRESS
 BPADDRESS: 643 rows copied.
 Processing table: SEED.WAREHOUSE
 WAREHOUSE: 5 rows copied.
 Processing table: SEED.TABMODELIV
 TABMODELIV: 12 rows copied.
 Processing table: SEED.TABPAYTERM
 BPADDRESS: 643 rows copied.
 Processing table: SEED.WAREHOUSE
 TABPAYTERM: 172 rows copied.
 Processing table: SEED.TABDEPAGIO
 WAREHOUSE: 5 rows copied.
 Processing table: SEED.TABMODELIV
 TABDEPAGIO: 18 rows copied.
 Processing table: SEED.BPCINVVAT
 TABMODELIV: 12 rows copied.
 Processing table: SEED.TABPAYTERM
 BPCINVVAT: 120 rows copied.
 Processing table: SEED.TABVAT
 TABPAYTERM: 172 rows copied.
 Processing table: SEED.TABDEPAGIO
 TABVAT: 428 rows copied.
 Processing table: SEED.TABRATVAT
 TABDEPAGIO: 18 rows copied.
 Processing table: SEED.BPCINVVAT
 TABRATVAT: 514 rows copied.
 Processing table: SEED.TABVACITM
 BPCINVVAT: 120 rows copied.
 Processing table: SEED.TABVAT
 TABVACITM: 92 rows copied.
 Processing table: SEED.TABVAC
 TABVAC: 566 rows copied.
 Processing table: SEED.TAXLINK
 TAXLINK: 0 rows copied.
 Processing table: SEED.SFOOTINV
 SFOOTINV: 9 rows copied.
 Processing table: SEED.SORDERQ
 TABVAT: 428 rows copied.
 Processing table: SEED.TABRATVAT
 TABRATVAT: 514 rows copied.
 Processing table: SEED.TABVACITM
 TABVACITM: 92 rows copied.
 Processing table: SEED.TABVAC
 SORDERQ: 4215 rows copied.
 Processing table: SEED.SORDERP
 TABVAC: 566 rows copied.
 Processing table: SEED.TAXLINK
 TAXLINK: 0 rows copied.
 Processing table: SEED.SFOOTINV
 SFOOTINV: 9 rows copied.
 Processing table: SEED.SORDERQ
 SORDERP: 4135 rows copied.
 All SEED tables copied successfully!
 SORDERQ: 4215 rows copied.
 Processing table: SEED.SORDERP
 SORDERP: 4135 rows copied.
 All SEED tables copied successfully!
 Processing table: SEED.ITMMASTER
 ITMMASTER: 546 rows copied.
 Processing table: SEED.ITMSALES
 ITMSALES: 534 rows copied.
 Processing table: SEED.ITMFACILIT
 ITMFACILIT: 3684 rows copied.
 Processing table: SEED.BPARTNER
 BPARTNER: 367 rows copied.
 Processing table: SEED.BPCUSTOMER
 BPCUSTOMER: 172 rows copied.
 Processing table: SEED.BPCUSTMVT
 BPCUSTMVT: 231 rows copied.
 Processing table: SEED.BPDLVCUST
 BPDLVCUST: 217 rows copied.
 Processing table: SEED.SALESREP
 SALESREP: 31 rows copied.
 Processing table: SEED.SPRICLINK
 SPRICLINK: 0 rows copied.
 Processing table: SEED.PRICSTRUCT
 PRICSTRUCT: 5 rows copied.
 Processing table: SEED.SPREASON
 SPREASON: 18 rows copied.
 Processing table: SEED.SPRICCONF
 SPRICCONF: 36 rows copied.
 Processing table: SEED.SPRICLIST
 SPRICLIST: 153 rows copied.
 Processing table: SEED.SORDER
 SORDER: 1194 rows copied.
 Processing table: SEED.PIMPL
 PIMPL: 975 rows copied.
 Processing table: SEED.TABMODELIV
 TABMODELIV: 12 rows copied.
 Processing table: SEED.STOCK
 STOCK: 8315 rows copied.
 Processing table: SEED.FACILITY
 FACILITY: 76 rows copied.
 Processing table: SEED.SORDER
 SORDER: 1194 rows copied.
 Processing table: SEED.BPCARRIER
 BPCARRIER: 17 rows copied.
 Processing table: SEED.COMPANY
 COMPANY: 51 rows copied.
 Processing table: SEED.BPDLVCUST
 BPDLVCUST: 217 rows copied.
 Processing table: SEED.TABSOHTYP
 TABSOHTYP: 10 rows copied.
 Processing table: SEED.TABVACBPR
 TABVACBPR: 139 rows copied.
 Processing table: SEED.SVCRVAT
 SVCRVAT: 3129 rows copied.
 Processing table: SEED.ITMCATEG
 ITMCATEG: 36 rows copied.
 Processing table: SEED.CBLOB
 CBLOB: 437 rows copied.
 Processing table: SEED.BLOBEXPENSES
 BLOBEXPENSES: 8 rows copied.
 Processing table: SEED.ABLOB
 ABLOB: 114 rows copied.
 Processing table: SEED.AUTILIS
 AUTILIS: 84 rows copied.
 Processing table: SEED.AMENUSER
 AMENUSER: 11235 rows copied.
 Processing table: SEED.TABVAT
 TABVAT: 428 rows copied.
 Processing table: SEED.BPADDRESS
 BPADDRESS: 643 rows copied.
 Processing table: SEED.WAREHOUSE
 WAREHOUSE: 5 rows copied.
 Processing table: SEED.TABMODELIV
 TABMODELIV: 12 rows copied.
 Processing table: SEED.TABPAYTERM
 TABPAYTERM: 172 rows copied.
 Processing table: SEED.TABDEPAGIO
 TABDEPAGIO: 18 rows copied.
 Processing table: SEED.BPCINVVAT
 BPCINVVAT: 120 rows copied.
 Processing table: SEED.TABVAT
 TABVAT: 428 rows copied.
 Processing table: SEED.TABRATVAT
 TABRATVAT: 514 rows copied.
 Processing table: SEED.TABVACITM
 TABVACITM: 92 rows copied.
 Processing table: SEED.TABVAC
 TABVAC: 566 rows copied.
 Processing table: SEED.TAXLINK
 TAXLINK: 0 rows copied.
 Processing table: SEED.SFOOTINV
 SFOOTINV: 9 rows copied.
 Processing table: SEED.SORDERQ
 SORDERQ: 4215 rows copied.
 Processing table: SEED.SORDERP
 SORDERP: 4135 rows copied.
 All SEED tables copied successfully!
[2025-10-20T13:09:12.299Z] [BACKEND] INFO:     127.0.0.1:8769 - "GET /clients/tiers/?customer_code= HTTP/1.1" 500 Internal Server Error
[2025-10-20T13:09:12.309Z] [BACKEND-ERR] ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
  File "uvicorn\middleware\proxy_headers.py", line 60, in __call__
  File "fastapi\applications.py", line 1133, in __call__
  File "starlette\applications.py", line 113, in __call__
  File "starlette\middleware\errors.py", line 186, in __call__
  File "starlette\middleware\errors.py", line 164, in __call__
  File "starlette\middleware\cors.py", line 85, in __call__
  File "starlette\middleware\exceptions.py", line 63, in __call__
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\middleware\asyncexitstack.py", line 18, in __call__
  File "starlette\routing.py", line 716, in __call__
  File "starlette\routing.py", line 736, in app
  File "starlette\routing.py", line 290, in handle
  File "fastapi\routing.py", line 123, in app
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\routing.py", line 109, in app
  File "fastapi\routing.py", line 387, in app
  File "fastapi\routing.py", line 290, in run_endpoint_function
  File "starlette\concurrency.py", line 38, in run_in_threadpool
  File "anyio\to_thread.py", line 56, in run_sync
  File "anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
  File "anyio\_backends\_asyncio.py", line 976, in run
  File "src\clients\controller.py", line 17, in read_tiers
  File "src\clients\serivce.py", line 48, in get_tiers
TypeError: 'NoneType' object is not subscriptable
[2025-10-20T13:09:12.423Z] [BACKEND] INFO:     127.0.0.1:8770 - "GET /adresse/livraison?code_client= HTTP/1.1" 200 OK
[2025-10-20T13:09:12.453Z] [BACKEND] INFO:     127.0.0.1:8773 - "GET /clients/tiers/?customer_code= HTTP/1.1" 500 Internal Server Error
[2025-10-20T13:09:12.465Z] [BACKEND-ERR] ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
  File "uvicorn\middleware\proxy_headers.py", line 60, in __call__
  File "fastapi\applications.py", line 1133, in __call__
  File "starlette\applications.py", line 113, in __call__
  File "starlette\middleware\errors.py", line 186, in __call__
  File "starlette\middleware\errors.py", line 164, in __call__
  File "starlette\middleware\cors.py", line 85, in __call__
  File "starlette\middleware\exceptions.py", line 63, in __call__
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\middleware\asyncexitstack.py", line 18, in __call__
  File "starlette\routing.py", line 716, in __call__
  File "starlette\routing.py", line 736, in app
  File "starlette\routing.py", line 290, in handle
  File "fastapi\routing.py", line 123, in app
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\routing.py", line 109, in app
  File "fastapi\routing.py", line 387, in app
  File "fastapi\routing.py", line 290, in run_endpoint_function
  File "starlette\concurrency.py", line 38, in run_in_threadpool
  File "anyio\to_thread.py", line 56, in run_sync
  File "anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
  File "anyio\_backends\_asyncio.py", line 976, in run
  File "src\clients\controller.py", line 17, in read_tiers
  File "src\clients\serivce.py", line 48, in get_tiers
TypeError: 'NoneType' object is not subscriptable
[2025-10-20T13:09:12.467Z] [BACKEND] INFO:     127.0.0.1:8772 - "GET /currency/code?customer_code= HTTP/1.1" 500 Internal Server Error
[2025-10-20T13:09:12.480Z] [BACKEND-ERR] ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
  File "uvicorn\middleware\proxy_headers.py", line 60, in __call__
  File "fastapi\applications.py", line 1133, in __call__
  File "starlette\applications.py", line 113, in __call__
  File "starlette\middleware\errors.py", line 186, in __call__
  File "starlette\middleware\errors.py", line 164, in __call__
  File "starlette\middleware\cors.py", line 85, in __call__
  File "starlette\middleware\exceptions.py", line 63, in __call__
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\middleware\asyncexitstack.py", line 18, in __call__
  File "starlette\routing.py", line 716, in __call__
  File "starlette\routing.py", line 736, in app
  File "starlette\routing.py", line 290, in handle
  File "fastapi\routing.py", line 123, in app
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\routing.py", line 109, in app
  File "fastapi\routing.py", line 387, in app
  File "fastapi\routing.py", line 290, in run_endpoint_function
  File "starlette\concurrency.py", line 38, in run_in_threadpool
  File "anyio\to_thread.py", line 56, in run_sync
  File "anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
  File "anyio\_backends\_asyncio.py", line 976, in run
  File "src\currency\controller.py", line 12, in get_currency_code
  File "src\currency\service.py", line 12, in get_commande_currrency
TypeError: 'NoneType' object is not subscriptable
[2025-10-20T13:09:12.481Z] [BACKEND] INFO:     127.0.0.1:8771 - "GET /taxe/regime?customer_code= HTTP/1.1" 500 Internal Server Error
[2025-10-20T13:09:12.495Z] [BACKEND-ERR] ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
  File "uvicorn\middleware\proxy_headers.py", line 60, in __call__
  File "fastapi\applications.py", line 1133, in __call__
  File "starlette\applications.py", line 113, in __call__
  File "starlette\middleware\errors.py", line 186, in __call__
  File "starlette\middleware\errors.py", line 164, in __call__
  File "starlette\middleware\cors.py", line 85, in __call__
  File "starlette\middleware\exceptions.py", line 63, in __call__
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\middleware\asyncexitstack.py", line 18, in __call__
  File "starlette\routing.py", line 716, in __call__
  File "starlette\routing.py", line 736, in app
  File "starlette\routing.py", line 290, in handle
  File "fastapi\routing.py", line 123, in app
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\routing.py", line 109, in app
  File "fastapi\routing.py", line 387, in app
  File "fastapi\routing.py", line 290, in run_endpoint_function
  File "starlette\concurrency.py", line 38, in run_in_threadpool
  File "anyio\to_thread.py", line 56, in run_sync
  File "anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
  File "anyio\_backends\_asyncio.py", line 976, in run
  File "src\taxe\controller.py", line 14, in read_regime_taxe
  File "src\taxe\service.py", line 22, in get_regime_taxe
TypeError: 'NoneType' object is not subscriptable
[2025-10-20T13:09:41.927Z] [BACKEND] INFO:     127.0.0.1:8842 - "GET /clients HTTP/1.1" 307 Temporary Redirect
[2025-10-20T13:09:41.931Z] [BACKEND] INFO:     127.0.0.1:8840 - "GET /adresse/vente HTTP/1.1" 200 OK
[2025-10-20T13:09:41.942Z] [BACKEND] INFO:     127.0.0.1:8841 - "GET /command/type HTTP/1.1" 200 OK
[2025-10-20T13:09:42.182Z] [BACKEND] INFO:     127.0.0.1:8841 - "GET /clients/ HTTP/1.1" 200 OK
[2025-10-20T13:11:26.903Z] [BACKEND] INFO:     127.0.0.1:9115 - "GET /adresse/expedition?legacy_comp=AE10 HTTP/1.1" 200 OK
[2025-10-20T13:11:43.276Z] [BACKEND] Ex�cution de la requ�te pour l'�l�ment de facturation 0 avec query=
        SELECT T1.INVDTA_0, T1.INVDTAAMT_0, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_0 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 1 avec query=
        SELECT T1.INVDTA_1, T1.INVDTAAMT_1, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_1 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 2 avec query=
        SELECT T1.INVDTA_2, T1.INVDTAAMT_2, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_2 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 3 avec query=
        SELECT T1.INVDTA_3, T1.INVDTAAMT_3, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_3 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 4 avec query=
        SELECT T1.INVDTA_4, T1.INVDTAAMT_4, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_4 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 5 avec query=
        SELECT T1.INVDTA_5, T1.INVDTAAMT_5, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_5 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 6 avec query=
        SELECT T1.INVDTA_6, T1.INVDTAAMT_6, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_6 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 7 avec query=
        SELECT T1.INVDTA_7, T1.INVDTAAMT_7, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_7 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 8 avec query=
        SELECT T1.INVDTA_8, T1.INVDTAAMT_8, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_8 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 9 avec query=
        SELECT T1.INVDTA_9, T1.INVDTAAMT_9, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_9 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 10 avec query=
        SELECT T1.INVDTA_10, T1.INVDTAAMT_10, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_10 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 11 avec query=
        SELECT T1.INVDTA_11, T1.INVDTAAMT_11, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_11 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 12 avec query=
        SELECT T1.INVDTA_12, T1.INVDTAAMT_12, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_12 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 13 avec query=
        SELECT T1.INVDTA_13, T1.INVDTAAMT_13, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_13 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 14 avec query=
        SELECT T1.INVDTA_14, T1.INVDTAAMT_14, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_14 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 15 avec query=
        SELECT T1.INVDTA_15, T1.INVDTAAMT_15, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_15 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 16 avec query=
        SELECT T1.INVDTA_16, T1.INVDTAAMT_16, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_16 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 17 avec query=
        SELECT T1.INVDTA_17, T1.INVDTAAMT_17, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_17 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 18 avec query=
        SELECT T1.INVDTA_18, T1.INVDTAAMT_18, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_18 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 19 avec query=
        SELECT T1.INVDTA_19, T1.INVDTAAMT_19, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_19 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 20 avec query=
        SELECT T1.INVDTA_20, T1.INVDTAAMT_20, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_20 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 21 avec query=
        SELECT T1.INVDTA_21, T1.INVDTAAMT_21, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_21 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 22 avec query=
        SELECT T1.INVDTA_22, T1.INVDTAAMT_22, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_22 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
INFO:     127.0.0.1:9171 - "GET /clients/tiers/?customer_code=AE011 HTTP/1.1" 200 OK
[2025-10-20T13:11:43.292Z] [BACKEND] Ex�cution de la requ�te pour l'�l�ment de facturation 23 avec query=
        SELECT T1.INVDTA_23, T1.INVDTAAMT_23, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_23 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 24 avec query=
        SELECT T1.INVDTA_24, T1.INVDTAAMT_24, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_24 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 25 avec query=
        SELECT T1.INVDTA_25, T1.INVDTAAMT_25, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_25 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 26 avec query=
        SELECT T1.INVDTA_26, T1.INVDTAAMT_26, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_26 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 27 avec query=
        SELECT T1.INVDTA_27, T1.INVDTAAMT_27, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_27 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
INFO:     127.0.0.1:9175 - "GET /currency/code?customer_code=AE011 HTTP/1.1" 200 OK
[2025-10-20T13:11:43.303Z] [BACKEND] Ex�cution de la requ�te pour l'�l�ment de facturation 28 avec query=
        SELECT T1.INVDTA_28, T1.INVDTAAMT_28, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_28 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 29 avec query=
        SELECT T1.INVDTA_29, T1.INVDTAAMT_29, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_29 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
INFO:     127.0.0.1:9173 - "GET /taxe/regime?customer_code=AE011 HTTP/1.1" 200 OK
[2025-10-20T13:11:43.317Z] [BACKEND] INFO:     127.0.0.1:9174 - "GET /articles/?site_id= HTTP/1.1" 200 OK
[2025-10-20T13:11:43.325Z] [BACKEND] INFO:     127.0.0.1:9172 - "GET /facture/element?customer_code=AE011 HTTP/1.1" 200 OK
[2025-10-20T13:11:50.721Z] [BACKEND] Ex�cution de la requ�te pour l'�l�ment de facturation 0 avec query=
        SELECT T1.INVDTA_0, T1.INVDTAAMT_0, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_0 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 1 avec query=
        SELECT T1.INVDTA_1, T1.INVDTAAMT_1, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_1 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 2 avec query=
        SELECT T1.INVDTA_2, T1.INVDTAAMT_2, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_2 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 3 avec query=
        SELECT T1.INVDTA_3, T1.INVDTAAMT_3, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_3 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 4 avec query=
        SELECT T1.INVDTA_4, T1.INVDTAAMT_4, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_4 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
INFO:     127.0.0.1:9202 - "GET /currency/code?customer_code=AE011 HTTP/1.1" 200 OK
[2025-10-20T13:11:50.793Z] [BACKEND] Ex�cution de la requ�te pour l'�l�ment de facturation 5 avec query=
        SELECT T1.INVDTA_5, T1.INVDTAAMT_5, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_5 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 6 avec query=
        SELECT T1.INVDTA_6, T1.INVDTAAMT_6, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_6 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 7 avec query=
        SELECT T1.INVDTA_7, T1.INVDTAAMT_7, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_7 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 8 avec query=
        SELECT T1.INVDTA_8, T1.INVDTAAMT_8, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_8 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 9 avec query=
        SELECT T1.INVDTA_9, T1.INVDTAAMT_9, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_9 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 10 avec query=
        SELECT T1.INVDTA_10, T1.INVDTAAMT_10, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_10 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 11 avec query=
        SELECT T1.INVDTA_11, T1.INVDTAAMT_11, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_11 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 12 avec query=
        SELECT T1.INVDTA_12, T1.INVDTAAMT_12, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_12 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 13 avec query=
        SELECT T1.INVDTA_13, T1.INVDTAAMT_13, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_13 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 14 avec query=
        SELECT T1.INVDTA_14, T1.INVDTAAMT_14, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_14 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 15 avec query=
        SELECT T1.INVDTA_15, T1.INVDTAAMT_15, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_15 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 16 avec query=
        SELECT T1.INVDTA_16, T1.INVDTAAMT_16, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_16 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 17 avec query=
        SELECT T1.INVDTA_17, T1.INVDTAAMT_17, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_17 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 18 avec query=
        SELECT T1.INVDTA_18, T1.INVDTAAMT_18, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_18 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 19 avec query=
        SELECT T1.INVDTA_19, T1.INVDTAAMT_19, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_19 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 20 avec query=
        SELECT T1.INVDTA_20, T1.INVDTAAMT_20, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_20 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 21 avec query=
        SELECT T1.INVDTA_21, T1.INVDTAAMT_21, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_21 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 22 avec query=
        SELECT T1.INVDTA_22, T1.INVDTAAMT_22, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_22 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 23 avec query=
        SELECT T1.INVDTA_23, T1.INVDTAAMT_23, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_23 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 24 avec query=
        SELECT T1.INVDTA_24, T1.INVDTAAMT_24, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_24 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 25 avec query=
        SELECT T1.INVDTA_25, T1.INVDTAAMT_25, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_25 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 26 avec query=
        SELECT T1.INVDTA_26, T1.INVDTAAMT_26, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_26 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 27 avec query=
        SELECT T1.INVDTA_27, T1.INVDTAAMT_27, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_27 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 28 avec query=
        SELECT T1.INVDTA_28, T1.INVDTAAMT_28, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_28 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 29 avec query=
        SELECT T1.INVDTA_29, T1.INVDTAAMT_29, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_29 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
INFO:     127.0.0.1:9201 - "GET /facture/element?customer_code=AE011 HTTP/1.1" 200 OK
[2025-10-20T13:11:51.222Z] [BACKEND] INFO:     127.0.0.1:9200 - "GET /articles/?site_id=AE012 HTTP/1.1" 200 OK
[2025-10-20T13:12:02.873Z] [BACKEND] Ex�cution de la requ�te pour l'�l�ment de facturation 0 avec query=
        SELECT T1.INVDTA_0, T1.INVDTAAMT_0, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_0 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 1 avec query=
        SELECT T1.INVDTA_1, T1.INVDTAAMT_1, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_1 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 2 avec query=
        SELECT T1.INVDTA_2, T1.INVDTAAMT_2, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_2 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 3 avec query=
        SELECT T1.INVDTA_3, T1.INVDTAAMT_3, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_3 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 4 avec query=
        SELECT T1.INVDTA_4, T1.INVDTAAMT_4, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_4 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 5 avec query=
        SELECT T1.INVDTA_5, T1.INVDTAAMT_5, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_5 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 6 avec query=
        SELECT T1.INVDTA_6, T1.INVDTAAMT_6, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_6 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 7 avec query=
        SELECT T1.INVDTA_7, T1.INVDTAAMT_7, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_7 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 8 avec query=
        SELECT T1.INVDTA_8, T1.INVDTAAMT_8, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_8 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 9 avec query=
        SELECT T1.INVDTA_9, T1.INVDTAAMT_9, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_9 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 10 avec query=
        SELECT T1.INVDTA_10, T1.INVDTAAMT_10, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_10 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 11 avec query=
        SELECT T1.INVDTA_11, T1.INVDTAAMT_11, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_11 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 12 avec query=
        SELECT T1.INVDTA_12, T1.INVDTAAMT_12, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_12 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 13 avec query=
        SELECT T1.INVDTA_13, T1.INVDTAAMT_13, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_13 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 14 avec query=
        SELECT T1.INVDTA_14, T1.INVDTAAMT_14, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_14 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 15 avec query=
        SELECT T1.INVDTA_15, T1.INVDTAAMT_15, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_15 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 16 avec query=
        SELECT T1.INVDTA_16, T1.INVDTAAMT_16, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_16 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 17 avec query=
        SELECT T1.INVDTA_17, T1.INVDTAAMT_17, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_17 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 18 avec query=
        SELECT T1.INVDTA_18, T1.INVDTAAMT_18, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_18 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 19 avec query=
        SELECT T1.INVDTA_19, T1.INVDTAAMT_19, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_19 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 20 avec query=
        SELECT T1.INVDTA_20, T1.INVDTAAMT_20, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_20 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 21 avec query=
        SELECT T1.INVDTA_21, T1.INVDTAAMT_21, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_21 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 22 avec query=
        SELECT T1.INVDTA_22, T1.INVDTAAMT_22, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_22 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 23 avec query=
        SELECT T1.INVDTA_23, T1.INVDTAAMT_23, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_23 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 24 avec query=
        SELECT T1.INVDTA_24, T1.INVDTAAMT_24, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_24 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 25 avec query=
        SELECT T1.INVDTA_25, T1.INVDTAAMT_25, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_25 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 26 avec query=
        SELECT T1.INVDTA_26, T1.INVDTAAMT_26, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_26 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 27 avec query=
        SELECT T1.INVDTA_27, T1.INVDTAAMT_27, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_27 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 28 avec query=
        SELECT T1.INVDTA_28, T1.INVDTAAMT_28, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_28 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
[2025-10-20T13:12:02.893Z] [BACKEND] Ex�cution de la requ�te pour l'�l�ment de facturation 29 avec query=
        SELECT T1.INVDTA_29, T1.INVDTAAMT_29, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_29 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
INFO:     127.0.0.1:9238 - "GET /facture/element?customer_code=AE011 HTTP/1.1" 200 OK
[2025-10-20T13:12:02.918Z] [BACKEND] INFO:     127.0.0.1:9239 - "GET /currency/code?customer_code=AE011 HTTP/1.1" 200 OK
[2025-10-20T13:12:03.370Z] [BACKEND] INFO:     127.0.0.1:9237 - "GET /articles/?site_id=AE011 HTTP/1.1" 200 OK
[2025-10-20T13:15:41.838Z] [BACKEND] INFO:     127.0.0.1:10047 - "GET /adresse/livraison?code_client=AE011 HTTP/1.1" 200 OK
[2025-10-20T13:15:41.848Z] [BACKEND] INFO:     127.0.0.1:10048 - "GET /clients/tiers/?customer_code=AE011 HTTP/1.1" 200 OK
[2025-10-20T13:15:41.867Z] [BACKEND] INFO:     127.0.0.1:10050 - "GET /currency/code?customer_code=AE011 HTTP/1.1" 200 OK
[2025-10-20T13:15:41.877Z] [BACKEND] INFO:     127.0.0.1:10049 - "GET /taxe/regime?customer_code=AE011 HTTP/1.1" 200 OK
[2025-10-20T13:15:41.914Z] [BACKEND] INFO:     127.0.0.1:10050 - "GET /clients/tiers/?customer_code=AE011 HTTP/1.1" 200 OK
[2025-10-20T13:15:47.733Z] [BACKEND] INFO:     127.0.0.1:10069 - "GET /livraison/modelivraison HTTP/1.1" 200 OK
[2025-10-20T13:15:47.736Z] [BACKEND] INFO:     127.0.0.1:10070 - "GET /livraison/transporteur HTTP/1.1" 200 OK
[2025-10-20T13:15:53.286Z] [BACKEND] Ex�cution de la requ�te pour l'�l�ment de facturation 0 avec query=
        SELECT T1.INVDTA_0, T1.INVDTAAMT_0, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_0 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
INFO:     127.0.0.1:10081 - "GET /facture/payment-condition?customer_code=AE011 HTTP/1.1" 200 OK
[2025-10-20T13:15:53.295Z] [BACKEND] INFO:     127.0.0.1:10082 - "GET /facture/escomte?customer_code=AE011 HTTP/1.1" 200 OK
[2025-10-20T13:15:53.310Z] [BACKEND] INFO:     127.0.0.1:10083 - "GET /facture/condfac?customer_code=AE011 HTTP/1.1" 200 OK
[2025-10-20T13:15:53.352Z] [BACKEND] Ex�cution de la requ�te pour l'�l�ment de facturation 1 avec query=
        SELECT T1.INVDTA_1, T1.INVDTAAMT_1, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_1 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 2 avec query=
        SELECT T1.INVDTA_2, T1.INVDTAAMT_2, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_2 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 3 avec query=
        SELECT T1.INVDTA_3, T1.INVDTAAMT_3, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_3 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 4 avec query=
        SELECT T1.INVDTA_4, T1.INVDTAAMT_4, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_4 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 5 avec query=
        SELECT T1.INVDTA_5, T1.INVDTAAMT_5, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_5 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 6 avec query=
        SELECT T1.INVDTA_6, T1.INVDTAAMT_6, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_6 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 7 avec query=
        SELECT T1.INVDTA_7, T1.INVDTAAMT_7, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_7 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 8 avec query=
        SELECT T1.INVDTA_8, T1.INVDTAAMT_8, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_8 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 9 avec query=
        SELECT T1.INVDTA_9, T1.INVDTAAMT_9, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_9 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 10 avec query=
        SELECT T1.INVDTA_10, T1.INVDTAAMT_10, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_10 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 11 avec query=
        SELECT T1.INVDTA_11, T1.INVDTAAMT_11, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_11 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 12 avec query=
        SELECT T1.INVDTA_12, T1.INVDTAAMT_12, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_12 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 13 avec query=
        SELECT T1.INVDTA_13, T1.INVDTAAMT_13, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_13 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 14 avec query=
        SELECT T1.INVDTA_14, T1.INVDTAAMT_14, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_14 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 15 avec query=
        SELECT T1.INVDTA_15, T1.INVDTAAMT_15, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_15 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 16 avec query=
        SELECT T1.INVDTA_16, T1.INVDTAAMT_16, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_16 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 17 avec query=
        SELECT T1.INVDTA_17, T1.INVDTAAMT_17, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_17 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 18 avec query=
        SELECT T1.INVDTA_18, T1.INVDTAAMT_18, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_18 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 19 avec query=
        SELECT T1.INVDTA_19, T1.INVDTAAMT_19, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_19 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 20 avec query=
        SELECT T1.INVDTA_20, T1.INVDTAAMT_20, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_20 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 21 avec query=
        SELECT T1.INVDTA_21, T1.INVDTAAMT_21, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_21 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 22 avec query=
        SELECT T1.INVDTA_22, T1.INVDTAAMT_22, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_22 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 23 avec query=
        SELECT T1.INVDTA_23, T1.INVDTAAMT_23, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_23 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 24 avec query=
        SELECT T1.INVDTA_24, T1.INVDTAAMT_24, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_24 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 25 avec query=
        SELECT T1.INVDTA_25, T1.INVDTAAMT_25, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_25 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 26 avec query=
        SELECT T1.INVDTA_26, T1.INVDTAAMT_26, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_26 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 27 avec query=
        SELECT T1.INVDTA_27, T1.INVDTAAMT_27, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_27 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 28 avec query=
        SELECT T1.INVDTA_28, T1.INVDTAAMT_28, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_28 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 29 avec query=
        SELECT T1.INVDTA_29, T1.INVDTAAMT_29, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_29 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
[2025-10-20T13:15:53.367Z] [BACKEND] INFO:     127.0.0.1:10084 - "GET /facture/element?customer_code=AE011 HTTP/1.1" 200 OK
[2025-10-20T13:15:59.027Z] [BACKEND-ERR] INFO:src.pricing.service:Connected to database: sagex3_seed.db
[2025-10-20T13:15:59.028Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS104, customer: AE011
[2025-10-20T13:15:59.062Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:15:59.063Z] [BACKEND-ERR] INFO:src.pricing.service:Database connection closed
[2025-10-20T13:15:59.065Z] [BACKEND] === Complete Sage X3 Pricing Engine Test ===


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS104
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================

INFO:     127.0.0.1:10100 - "POST /pricing/ HTTP/1.1" 200 OK
[2025-10-20T13:15:59.097Z] [BACKEND] None
Code taxe d�termin�: None
INFO:     127.0.0.1:10100 - "POST /taxe/applied/ HTTP/1.1" 200 OK
[2025-10-20T13:16:04.470Z] [BACKEND-ERR] INFO:src.pricing.service:Connected to database: sagex3_seed.db
[2025-10-20T13:16:04.475Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS104, customer: AE011
[2025-10-20T13:16:04.516Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:16:04.517Z] [BACKEND-ERR] INFO:src.pricing.service:Database connection closed
[2025-10-20T13:16:04.519Z] [BACKEND] === Complete Sage X3 Pricing Engine Test ===


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS104
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================

INFO:     127.0.0.1:10110 - "POST /pricing/ HTTP/1.1" 200 OK
[2025-10-20T13:16:04.561Z] [BACKEND] None
Code taxe d�termin�: None
INFO:     127.0.0.1:10110 - "POST /taxe/applied/ HTTP/1.1" 200 OK
[2025-10-20T13:16:05.737Z] [BACKEND-ERR] INFO:src.pricing.service:Connected to database: sagex3_seed.db
[2025-10-20T13:16:05.742Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS104, customer: AE011
[2025-10-20T13:16:05.784Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:16:05.785Z] [BACKEND-ERR] INFO:src.pricing.service:Database connection closed
[2025-10-20T13:16:05.790Z] [BACKEND] === Complete Sage X3 Pricing Engine Test ===


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS104
- Quantity: 4
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 4) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================

INFO:     127.0.0.1:10110 - "POST /pricing/ HTTP/1.1" 200 OK
[2025-10-20T13:16:05.829Z] [BACKEND] None
Code taxe d�termin�: None
INFO:     127.0.0.1:10110 - "POST /taxe/applied/ HTTP/1.1" 200 OK
[2025-10-20T13:16:08.234Z] [BACKEND] INFO:     127.0.0.1:10110 - "POST /command/add HTTP/1.1" 200 OK
[2025-10-20T13:22:02.524Z] [BACKEND-ERR] INFO:__main__:\U0001f504 Running sync_data() ...
[2025-10-20T13:23:01.251Z] [BACKEND-ERR] INFO:__main__:\u2705 sync_data completed.
[2025-10-20T13:32:20.179Z] [BACKEND-ERR] INFO:src.pricing.service:Connected to database: sagex3_seed.db
[2025-10-20T13:32:20.181Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS013, customer: AE011
[2025-10-20T13:32:20.234Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:32:20.238Z] [BACKEND-ERR] INFO:src.pricing.service:Database connection closed
[2025-10-20T13:32:20.241Z] [BACKEND] Processing table: SEED.ITMMASTER
 ITMMASTER: 546 rows copied.
 Processing table: SEED.ITMSALES
 ITMSALES: 534 rows copied.
 Processing table: SEED.ITMFACILIT
 ITMFACILIT: 3684 rows copied.
 Processing table: SEED.BPARTNER
 BPARTNER: 367 rows copied.
 Processing table: SEED.BPCUSTOMER
 BPCUSTOMER: 172 rows copied.
 Processing table: SEED.BPCUSTMVT
 BPCUSTMVT: 231 rows copied.
 Processing table: SEED.BPDLVCUST
 BPDLVCUST: 217 rows copied.
 Processing table: SEED.SALESREP
 SALESREP: 31 rows copied.
 Processing table: SEED.SPRICLINK
 SPRICLINK: 0 rows copied.
 Processing table: SEED.PRICSTRUCT
 PRICSTRUCT: 5 rows copied.
 Processing table: SEED.SPREASON
 SPREASON: 18 rows copied.
 Processing table: SEED.SPRICCONF
 SPRICCONF: 36 rows copied.
 Processing table: SEED.SPRICLIST
 SPRICLIST: 153 rows copied.
 Processing table: SEED.SORDER
 SORDER: 1194 rows copied.
 Processing table: SEED.PIMPL
 PIMPL: 975 rows copied.
 Processing table: SEED.TABMODELIV
 TABMODELIV: 12 rows copied.
 Processing table: SEED.STOCK
 STOCK: 8315 rows copied.
 Processing table: SEED.FACILITY
 FACILITY: 76 rows copied.
 Processing table: SEED.SORDER
 SORDER: 1194 rows copied.
 Processing table: SEED.BPCARRIER
 BPCARRIER: 17 rows copied.
 Processing table: SEED.COMPANY
 COMPANY: 51 rows copied.
 Processing table: SEED.BPDLVCUST
 BPDLVCUST: 217 rows copied.
 Processing table: SEED.TABSOHTYP
 TABSOHTYP: 10 rows copied.
 Processing table: SEED.TABVACBPR
 TABVACBPR: 139 rows copied.
 Processing table: SEED.SVCRVAT
 SVCRVAT: 3129 rows copied.
 Processing table: SEED.ITMCATEG
 ITMCATEG: 36 rows copied.
 Processing table: SEED.CBLOB
 CBLOB: 437 rows copied.
 Processing table: SEED.BLOBEXPENSES
 BLOBEXPENSES: 8 rows copied.
 Processing table: SEED.ABLOB
 ABLOB: 114 rows copied.
 Processing table: SEED.AUTILIS
 AUTILIS: 84 rows copied.
 Processing table: SEED.AMENUSER
 AMENUSER: 11235 rows copied.
 Processing table: SEED.TABVAT
 TABVAT: 428 rows copied.
 Processing table: SEED.BPADDRESS
 BPADDRESS: 643 rows copied.
 Processing table: SEED.WAREHOUSE
 WAREHOUSE: 5 rows copied.
 Processing table: SEED.TABMODELIV
 TABMODELIV: 12 rows copied.
 Processing table: SEED.TABPAYTERM
 TABPAYTERM: 172 rows copied.
 Processing table: SEED.TABDEPAGIO
 TABDEPAGIO: 18 rows copied.
 Processing table: SEED.BPCINVVAT
 BPCINVVAT: 120 rows copied.
 Processing table: SEED.TABVAT
 TABVAT: 428 rows copied.
 Processing table: SEED.TABRATVAT
 TABRATVAT: 514 rows copied.
 Processing table: SEED.TABVACITM
 TABVACITM: 92 rows copied.
 Processing table: SEED.TABVAC
 TABVAC: 566 rows copied.
 Processing table: SEED.TAXLINK
 TAXLINK: 0 rows copied.
 Processing table: SEED.SFOOTINV
 SFOOTINV: 9 rows copied.
 Processing table: SEED.SORDERQ
 SORDERQ: 4215 rows copied.
 Processing table: SEED.SORDERP
 SORDERP: 4135 rows copied.
 All SEED tables copied successfully!
=== Complete Sage X3 Pricing Engine Test ===


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS013
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================

INFO:     127.0.0.1:12013 - "POST /pricing/ HTTP/1.1" 200 OK
[2025-10-20T13:32:20.274Z] [BACKEND] None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
INFO:     127.0.0.1:12013 - "POST /taxe/applied/ HTTP/1.1" 200 OK
[2025-10-20T13:32:21.679Z] [BACKEND-ERR] INFO:src.pricing.service:Connected to database: sagex3_seed.db
[2025-10-20T13:32:21.680Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS013, customer: AE011
[2025-10-20T13:32:21.746Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:32:21.747Z] [BACKEND-ERR] INFO:src.pricing.service:Database connection closed
[2025-10-20T13:32:21.749Z] [BACKEND] === Complete Sage X3 Pricing Engine Test ===


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS013
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================

INFO:     127.0.0.1:12013 - "POST /pricing/ HTTP/1.1" 200 OK
[2025-10-20T13:32:21.781Z] [BACKEND] None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
INFO:     127.0.0.1:12013 - "POST /taxe/applied/ HTTP/1.1" 200 OK
[2025-10-20T13:32:23.656Z] [BACKEND-ERR] INFO:src.pricing.service:Connected to database: sagex3_seed.db
[2025-10-20T13:32:23.658Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS013, customer: AE011
[2025-10-20T13:32:23.716Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:32:23.724Z] [BACKEND-ERR] INFO:src.pricing.service:Database connection closed
[2025-10-20T13:32:23.727Z] [BACKEND] === Complete Sage X3 Pricing Engine Test ===


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS013
- Quantity: 4
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 4) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================

INFO:     127.0.0.1:12013 - "POST /pricing/ HTTP/1.1" 200 OK
[2025-10-20T13:32:23.778Z] [BACKEND] None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
INFO:     127.0.0.1:12013 - "POST /taxe/applied/ HTTP/1.1" 200 OK
[2025-10-20T13:32:24.782Z] [BACKEND-ERR] INFO:src.pricing.service:Connected to database: sagex3_seed.db
[2025-10-20T13:32:24.783Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS013, customer: AE011
[2025-10-20T13:32:24.844Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:32:24.846Z] [BACKEND-ERR] INFO:src.pricing.service:Database connection closed
[2025-10-20T13:32:24.847Z] [BACKEND] === Complete Sage X3 Pricing Engine Test ===


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS013
- Quantity: 5
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 5) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================

INFO:     127.0.0.1:12013 - "POST /pricing/ HTTP/1.1" 200 OK
[2025-10-20T13:32:24.881Z] [BACKEND] None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
INFO:     127.0.0.1:12013 - "POST /taxe/applied/ HTTP/1.1" 200 OK
[2025-10-20T13:32:27.849Z] [BACKEND] INFO:     127.0.0.1:12013 - "POST /command/add HTTP/1.1" 200 OK
[2025-10-20T13:33:09.194Z] [BACKEND-ERR] INFO:src.pricing.service:Connected to database: sagex3_seed.db
[2025-10-20T13:33:09.195Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS001, customer: AE011
[2025-10-20T13:33:09.231Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:09.233Z] [BACKEND-ERR] INFO:src.pricing.service:Database connection closed
[2025-10-20T13:33:09.235Z] [BACKEND] === Complete Sage X3 Pricing Engine Test ===


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS001
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================

INFO:     127.0.0.1:12092 - "POST /pricing/ HTTP/1.1" 200 OK
[2025-10-20T13:33:09.263Z] [BACKEND] None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
INFO:     127.0.0.1:12092 - "POST /taxe/applied/ HTTP/1.1" 200 OK
[2025-10-20T13:33:12.529Z] [BACKEND-ERR] INFO:src.pricing.service:Connected to database: sagex3_seed.db
[2025-10-20T13:33:12.530Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS001, customer: AE011
[2025-10-20T13:33:12.564Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:12.566Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS003, customer: AE011
[2025-10-20T13:33:12.584Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:12.586Z] [BACKEND-ERR] INFO:src.pricing.service:Database connection closed
[2025-10-20T13:33:12.587Z] [BACKEND] === Complete Sage X3 Pricing Engine Test ===


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS001
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================

INFO:     127.0.0.1:12092 - "POST /pricing/ HTTP/1.1" 200 OK
[2025-10-20T13:33:12.632Z] [BACKEND] None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
INFO:     127.0.0.1:12092 - "POST /taxe/applied/ HTTP/1.1" 200 OK
[2025-10-20T13:33:16.020Z] [BACKEND-ERR] INFO:src.pricing.service:Connected to database: sagex3_seed.db
INFO:src.pricing.service:Starting pricing calculation for item: BMS001, customer: AE011
[2025-10-20T13:33:16.050Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:16.051Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS003, customer: AE011
[2025-10-20T13:33:16.070Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:16.071Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS104, customer: AE011
[2025-10-20T13:33:16.091Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:16.092Z] [BACKEND-ERR] INFO:src.pricing.service:Database connection closed
[2025-10-20T13:33:16.093Z] [BACKEND] === Complete Sage X3 Pricing Engine Test ===


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS001
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS104
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================

INFO:     127.0.0.1:12092 - "POST /pricing/ HTTP/1.1" 200 OK
[2025-10-20T13:33:16.158Z] [BACKEND] None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
Code taxe d�termin�: None
INFO:     127.0.0.1:12092 - "POST /taxe/applied/ HTTP/1.1" 200 OK
[2025-10-20T13:33:16.499Z] [BACKEND-ERR] INFO:src.pricing.service:Connected to database: sagex3_seed.db
[2025-10-20T13:33:16.501Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS001, customer: AE011
[2025-10-20T13:33:16.540Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:16.541Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS003, customer: AE011
[2025-10-20T13:33:16.559Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:16.560Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS104, customer: AE011
[2025-10-20T13:33:16.576Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:16.577Z] [BACKEND-ERR] INFO:src.pricing.service:Database connection closed
[2025-10-20T13:33:16.580Z] [BACKEND] === Complete Sage X3 Pricing Engine Test ===


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS001
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS104
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================

INFO:     127.0.0.1:12092 - "POST /pricing/ HTTP/1.1" 200 OK
[2025-10-20T13:33:16.636Z] [BACKEND] None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
Code taxe d�termin�: None
INFO:     127.0.0.1:12092 - "POST /taxe/applied/ HTTP/1.1" 200 OK
[2025-10-20T13:33:20.908Z] [BACKEND-ERR] INFO:src.pricing.service:Connected to database: sagex3_seed.db
[2025-10-20T13:33:20.911Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS001, customer: AE011
[2025-10-20T13:33:20.968Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:20.969Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS003, customer: AE011
[2025-10-20T13:33:20.989Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:20.990Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS104, customer: AE011
[2025-10-20T13:33:21.008Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:21.009Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS003, customer: AE011
[2025-10-20T13:33:21.023Z] [BACKEND] === Complete Sage X3 Pricing Engine Test ===


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS001
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS104
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
[2025-10-20T13:33:21.031Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:21.034Z] [BACKEND-ERR] INFO:src.pricing.service:Database connection closed
[2025-10-20T13:33:21.036Z] [BACKEND] Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================

INFO:     127.0.0.1:12092 - "POST /pricing/ HTTP/1.1" 200 OK
[2025-10-20T13:33:21.162Z] [BACKEND] None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
Code taxe d�termin�: None
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
INFO:     127.0.0.1:12092 - "POST /taxe/applied/ HTTP/1.1" 200 OK
[2025-10-20T13:33:24.183Z] [BACKEND-ERR] INFO:src.pricing.service:Connected to database: sagex3_seed.db
[2025-10-20T13:33:24.186Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS001, customer: AE011
[2025-10-20T13:33:24.226Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:24.227Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS003, customer: AE011
[2025-10-20T13:33:24.243Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:24.244Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS104, customer: AE011
[2025-10-20T13:33:24.264Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:24.265Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS003, customer: AE011
[2025-10-20T13:33:24.278Z] [BACKEND] === Complete Sage X3 Pricing Engine Test ===


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS001
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS104
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
[2025-10-20T13:33:24.288Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:24.290Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS002, customer: AE011
[2025-10-20T13:33:24.323Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:24.324Z] [BACKEND-ERR] INFO:src.pricing.service:Database connection closed
[2025-10-20T13:33:24.326Z] [BACKEND] Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS002
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================

INFO:     127.0.0.1:12092 - "POST /pricing/ HTTP/1.1" 200 OK
[2025-10-20T13:33:24.435Z] [BACKEND] None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
Code taxe d�termin�: None
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
INFO:     127.0.0.1:12092 - "POST /taxe/applied/ HTTP/1.1" 200 OK
[2025-10-20T13:33:27.320Z] [BACKEND-ERR] INFO:src.pricing.service:Connected to database: sagex3_seed.db
[2025-10-20T13:33:27.321Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS001, customer: AE011
[2025-10-20T13:33:27.355Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:27.356Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS003, customer: AE011
[2025-10-20T13:33:27.372Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:27.374Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS104, customer: AE011
[2025-10-20T13:33:27.396Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:27.397Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS003, customer: AE011
[2025-10-20T13:33:27.412Z] [BACKEND] === Complete Sage X3 Pricing Engine Test ===


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS001
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS104
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
[2025-10-20T13:33:27.418Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:27.419Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS002, customer: AE011
[2025-10-20T13:33:27.436Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:27.437Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS001, customer: AE011
[2025-10-20T13:33:27.452Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:27.454Z] [BACKEND-ERR] INFO:src.pricing.service:Database connection closed
[2025-10-20T13:33:27.455Z] [BACKEND] Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS002
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS001
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================

INFO:     127.0.0.1:12092 - "POST /pricing/ HTTP/1.1" 200 OK
[2025-10-20T13:33:27.537Z] [BACKEND-ERR] INFO:src.pricing.service:Connected to database: sagex3_seed.db
[2025-10-20T13:33:27.538Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS001, customer: AE011
[2025-10-20T13:33:27.584Z] [BACKEND] None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
Code taxe d�termin�: None
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
=== Complete Sage X3 Pricing Engine Test ===


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS001
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
None
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
D�tails du code taxe: ('20.0',)
Processing pricing config: T513 (priority: 50)
INFO:     127.0.0.1:12092 - "POST /taxe/applied/ HTTP/1.1" 200 OK
[2025-10-20T13:33:27.588Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:27.589Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS003, customer: AE011
[2025-10-20T13:33:27.613Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:27.614Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS104, customer: AE011
[2025-10-20T13:33:27.631Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:27.633Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS003, customer: AE011
[2025-10-20T13:33:27.654Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:27.656Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS002, customer: AE011
[2025-10-20T13:33:27.666Z] [BACKEND] Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS104
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS002
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
[2025-10-20T13:33:27.676Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:27.677Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS001, customer: AE011
[2025-10-20T13:33:27.699Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:27.700Z] [BACKEND-ERR] INFO:src.pricing.service:Database connection closed
[2025-10-20T13:33:27.702Z] [BACKEND] Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS001
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================

INFO:     127.0.0.1:12166 - "POST /pricing/ HTTP/1.1" 200 OK
[2025-10-20T13:33:27.799Z] [BACKEND] None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
Code taxe d�termin�: None
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
INFO:     127.0.0.1:12166 - "POST /taxe/applied/ HTTP/1.1" 200 OK
[2025-10-20T13:33:31.600Z] [BACKEND-ERR] INFO:src.pricing.service:Connected to database: sagex3_seed.db
[2025-10-20T13:33:31.601Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS001, customer: AE011
[2025-10-20T13:33:31.636Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:31.637Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS003, customer: AE011
[2025-10-20T13:33:31.668Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:31.669Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS104, customer: AE011
[2025-10-20T13:33:31.693Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:31.694Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS003, customer: AE011
[2025-10-20T13:33:31.716Z] [BACKEND] === Complete Sage X3 Pricing Engine Test ===


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS001
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS104
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
[2025-10-20T13:33:31.724Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:31.725Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS002, customer: AE011
[2025-10-20T13:33:31.754Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:31.756Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS001, customer: AE011
[2025-10-20T13:33:31.789Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:31.790Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS004, customer: AE011
[2025-10-20T13:33:31.821Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:31.822Z] [BACKEND] Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS002
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS001
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS004
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used:
[2025-10-20T13:33:31.823Z] [BACKEND-ERR] INFO:src.pricing.service:Database connection closed
[2025-10-20T13:33:31.824Z] [BACKEND] - Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================

INFO:     127.0.0.1:12166 - "POST /pricing/ HTTP/1.1" 200 OK
[2025-10-20T13:33:32.088Z] [BACKEND] None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
Code taxe d�termin�: None
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
INFO:     127.0.0.1:12166 - "POST /taxe/applied/ HTTP/1.1" 200 OK
[2025-10-20T13:33:38.149Z] [BACKEND-ERR] INFO:src.pricing.service:Connected to database: sagex3_seed.db
[2025-10-20T13:33:38.151Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS001, customer: AE011
[2025-10-20T13:33:38.196Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:38.197Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS003, customer: AE011
[2025-10-20T13:33:38.217Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:38.218Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS104, customer: AE011
[2025-10-20T13:33:38.238Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:38.239Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS003, customer: AE011
[2025-10-20T13:33:38.251Z] [BACKEND] === Complete Sage X3 Pricing Engine Test ===


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS001
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS104
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
[2025-10-20T13:33:38.259Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:38.260Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS002, customer: AE011
[2025-10-20T13:33:38.284Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:38.286Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS001, customer: AE011
[2025-10-20T13:33:38.308Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:38.309Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS004, customer: AE011
[2025-10-20T13:33:38.330Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:38.331Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS013, customer: AE011
[2025-10-20T13:33:38.332Z] [BACKEND] Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS002
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS001
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS004
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used:
[2025-10-20T13:33:38.352Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:38.353Z] [BACKEND-ERR] INFO:src.pricing.service:Database connection closed
[2025-10-20T13:33:38.354Z] [BACKEND] - Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS013
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================

INFO:     127.0.0.1:12189 - "POST /pricing/ HTTP/1.1" 200 OK
[2025-10-20T13:33:38.484Z] [BACKEND] None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
Code taxe d�termin�: None
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
INFO:     127.0.0.1:12189 - "POST /taxe/applied/ HTTP/1.1" 200 OK
[2025-10-20T13:33:38.521Z] [BACKEND-ERR] INFO:src.pricing.service:Connected to database: sagex3_seed.db
[2025-10-20T13:33:38.522Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS001, customer: AE011
[2025-10-20T13:33:38.554Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:38.555Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS003, customer: AE011
[2025-10-20T13:33:38.572Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:38.573Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS104, customer: AE011
[2025-10-20T13:33:38.592Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:38.593Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS003, customer: AE011
[2025-10-20T13:33:38.605Z] [BACKEND] === Complete Sage X3 Pricing Engine Test ===


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS001
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS104
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
[2025-10-20T13:33:38.612Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:38.613Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS002, customer: AE011
[2025-10-20T13:33:38.634Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:38.636Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS001, customer: AE011
[2025-10-20T13:33:38.652Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:38.653Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS004, customer: AE011
[2025-10-20T13:33:38.670Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:38.671Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS013, customer: AE011
[2025-10-20T13:33:38.672Z] [BACKEND] Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS002
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS001
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS004
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used:
[2025-10-20T13:33:38.690Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:38.692Z] [BACKEND-ERR] INFO:src.pricing.service:Database connection closed
[2025-10-20T13:33:38.694Z] [BACKEND] - Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS013
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================

INFO:     127.0.0.1:12189 - "POST /pricing/ HTTP/1.1" 200 OK
[2025-10-20T13:33:38.836Z] [BACKEND] None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
Code taxe d�termin�: None
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
INFO:     127.0.0.1:12189 - "POST /taxe/applied/ HTTP/1.1" 200 OK
[2025-10-20T13:33:41.929Z] [BACKEND-ERR] INFO:src.pricing.service:Connected to database: sagex3_seed.db
[2025-10-20T13:33:41.931Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS001, customer: AE011
[2025-10-20T13:33:41.964Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:41.965Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS003, customer: AE011
[2025-10-20T13:33:41.997Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:42.000Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS104, customer: AE011
[2025-10-20T13:33:42.027Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:42.030Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS003, customer: AE011
[2025-10-20T13:33:42.046Z] [BACKEND] === Complete Sage X3 Pricing Engine Test ===


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS001
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS104
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
[2025-10-20T13:33:42.051Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:42.053Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS002, customer: AE011
[2025-10-20T13:33:42.069Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:42.070Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS001, customer: AE011
[2025-10-20T13:33:42.086Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:42.087Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS004, customer: AE011
[2025-10-20T13:33:42.104Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:42.105Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS013, customer: AE011
[2025-10-20T13:33:42.106Z] [BACKEND] Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS002
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS001
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS004
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used:
[2025-10-20T13:33:42.123Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:42.124Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: FIN056, customer: AE011
[2025-10-20T13:33:42.151Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:42.162Z] [BACKEND-ERR] INFO:src.pricing.service:Database connection closed
[2025-10-20T13:33:42.246Z] [BACKEND] - Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS013
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: FIN056
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================

=== Complete Sage X3 Pricing Engine Test ===

INFO:     127.0.0.1:12189 - "POST /pricing/ HTTP/1.1" 200 OK
[2025-10-20T13:33:42.247Z] [BACKEND-ERR] INFO:src.pricing.service:Connected to database: sagex3_seed.db
INFO:src.pricing.service:Starting pricing calculation for item: BMS001, customer: AE011
[2025-10-20T13:33:42.290Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:42.291Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS003, customer: AE011
[2025-10-20T13:33:42.315Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:42.316Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS104, customer: AE011
[2025-10-20T13:33:42.341Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:42.342Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS003, customer: AE011
[2025-10-20T13:33:42.352Z] [BACKEND] ============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS001
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
None
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS104
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
D�tails du code taxe: ('20.0',)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
[2025-10-20T13:33:42.360Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:42.361Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS002, customer: AE011
[2025-10-20T13:33:42.382Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:42.383Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS001, customer: AE011
[2025-10-20T13:33:42.404Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:42.405Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS004, customer: AE011
[2025-10-20T13:33:42.419Z] [BACKEND] Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS002
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
None
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
D�tails du code taxe: ('20.0',)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS001
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
None
Processing pricing config: T501 (priority: 50)
Code taxe d�termin�: None
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS004
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
[2025-10-20T13:33:42.426Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:42.428Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS013, customer: AE011
[2025-10-20T13:33:42.468Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:42.471Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: FIN056, customer: AE011
[2025-10-20T13:33:42.512Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:42.517Z] [BACKEND-ERR] INFO:src.pricing.service:Database connection closed
[2025-10-20T13:33:42.518Z] [BACKEND] Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS013
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
Processing pricing config: T515 (priority: 50)
D�tails du code taxe: ('20.0',)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: FIN056
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================

INFO:     127.0.0.1:12197 - "POST /pricing/ HTTP/1.1" 200 OK
[2025-10-20T13:33:42.625Z] [BACKEND] None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
Code taxe d�termin�: None
INFO:     127.0.0.1:12189 - "POST /taxe/applied/ HTTP/1.1" 200 OK
[2025-10-20T13:33:42.809Z] [BACKEND] None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
Code taxe d�termin�: None
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
Code taxe d�termin�: None
INFO:     127.0.0.1:12197 - "POST /taxe/applied/ HTTP/1.1" 200 OK
[2025-10-20T13:33:46.487Z] [BACKEND-ERR] INFO:src.pricing.service:Connected to database: sagex3_seed.db
[2025-10-20T13:33:46.488Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS001, customer: AE011
[2025-10-20T13:33:46.524Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:46.525Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS003, customer: AE011
[2025-10-20T13:33:46.544Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:46.545Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS104, customer: AE011
[2025-10-20T13:33:46.564Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:46.565Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS003, customer: AE011
[2025-10-20T13:33:46.578Z] [BACKEND] === Complete Sage X3 Pricing Engine Test ===


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS001
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS104
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
[2025-10-20T13:33:46.584Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:46.585Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS002, customer: AE011
[2025-10-20T13:33:46.604Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:46.605Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS001, customer: AE011
[2025-10-20T13:33:46.622Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:46.623Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS004, customer: AE011
[2025-10-20T13:33:46.644Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:46.646Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS013, customer: AE011
[2025-10-20T13:33:46.646Z] [BACKEND] Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS002
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS001
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS004
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used:
[2025-10-20T13:33:46.665Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:46.666Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: FIN056, customer: AE011
[2025-10-20T13:33:46.683Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:46.685Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: SER005, customer: AE011
[2025-10-20T13:33:46.703Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:46.704Z] [BACKEND-ERR] INFO:src.pricing.service:Database connection closed
[2025-10-20T13:33:46.706Z] [BACKEND] - Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS013
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: FIN056
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: SER005
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================

INFO:     127.0.0.1:12197 - "POST /pricing/ HTTP/1.1" 200 OK
[2025-10-20T13:33:46.913Z] [BACKEND] None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
Code taxe d�termin�: None
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
Code taxe d�termin�: None
None
V�rification de la r�gle: ('1', 'GBDOM_GBEXE', 'ITA~Esenzione domestica~Es. domest.', '2', '1', 'BRI', ' ', 'DMG', 'EXO', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="EXO"', ' ', ' ', 'GBEXE', 'ADMIN', '2009-01-22 00:00:00', 'XJLT', '2016-01-19 00:00:00', ' ', '1753-01-01 00:00:00', '2016-01-19 17:08:53', b'\xa1\xd3\x83\xf1z\x17K\xb2\xa2@g($\x05\xa5\xc0', '74.0')
Code taxe d�termin�: GBEXE
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GBEXE
D�tails du code taxe: ('0.0',)
INFO:     127.0.0.1:12197 - "POST /taxe/applied/ HTTP/1.1" 200 OK
[2025-10-20T13:33:49.885Z] [BACKEND-ERR] INFO:src.pricing.service:Connected to database: sagex3_seed.db
[2025-10-20T13:33:49.886Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS001, customer: AE011
[2025-10-20T13:33:49.922Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:49.923Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS003, customer: AE011
[2025-10-20T13:33:49.943Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:49.944Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS104, customer: AE011
[2025-10-20T13:33:49.963Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:49.964Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS003, customer: AE011
[2025-10-20T13:33:49.976Z] [BACKEND] === Complete Sage X3 Pricing Engine Test ===


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS001
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS104
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
[2025-10-20T13:33:49.981Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:49.982Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS002, customer: AE011
[2025-10-20T13:33:49.999Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:50.000Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS001, customer: AE011
[2025-10-20T13:33:50.030Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:50.033Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS004, customer: AE011
[2025-10-20T13:33:50.067Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:50.070Z] [BACKEND] Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS002
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS001
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS004
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used:
[2025-10-20T13:33:50.071Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS013, customer: AE011
[2025-10-20T13:33:50.102Z] [BACKEND-ERR] INFO:src.pricing.service:Connected to database: sagex3_seed.db
[2025-10-20T13:33:50.103Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS001, customer: AE011
[2025-10-20T13:33:50.121Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:50.122Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: FIN056, customer: AE011
[2025-10-20T13:33:50.155Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:50.156Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS003, customer: AE011
[2025-10-20T13:33:50.158Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:50.159Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: SER005, customer: AE011
[2025-10-20T13:33:50.169Z] [BACKEND] - Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS013
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
=== Complete Sage X3 Pricing Engine Test ===

Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)

============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS001
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: FIN056
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T517 (priority: 1)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T514 (priority: 99)
Processing pricing config: T508 (priority: 50)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: SER005
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
[2025-10-20T13:33:50.188Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:50.190Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS104, customer: AE011
INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
INFO:src.pricing.service:Starting pricing calculation for item: RAW041, customer: AE011
[2025-10-20T13:33:50.225Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:50.227Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
INFO:src.pricing.service:Starting pricing calculation for item: DIS003, customer: AE011
[2025-10-20T13:33:50.228Z] [BACKEND] Processing pricing config: T517 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T514 (priority: 99)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS104
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733


=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: RAW041
- Quantity: 2
- Currency: AED
- Unit: EA
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T514 (priority: 99)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
[2025-10-20T13:33:50.230Z] [BACKEND-ERR] INFO:src.pricing.service:Database connection closed
[2025-10-20T13:33:50.232Z] [BACKEND] - Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

INFO:     127.0.0.1:12197 - "POST /pricing/ HTTP/1.1" 200 OK
[2025-10-20T13:33:50.256Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:50.257Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS002, customer: AE011
[2025-10-20T13:33:50.280Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:50.281Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS001, customer: AE011
[2025-10-20T13:33:50.308Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:50.312Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS004, customer: AE011
[2025-10-20T13:33:50.341Z] [BACKEND] Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS002
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
None
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS001
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
D�tails du code taxe: ('20.0',)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS004
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
[2025-10-20T13:33:50.359Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:50.362Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS013, customer: AE011
[2025-10-20T13:33:50.405Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:50.406Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: FIN056, customer: AE011
[2025-10-20T13:33:50.474Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:50.475Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: SER005, customer: AE011
[2025-10-20T13:33:50.509Z] [BACKEND] Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS013
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: FIN056
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: SER005
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
None
Processing pricing config: T148 (priority: 1)
Code taxe d�termin�: None
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
[2025-10-20T13:33:50.523Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:50.525Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: RAW041, customer: AE011
[2025-10-20T13:33:50.561Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:50.563Z] [BACKEND-ERR] INFO:src.pricing.service:Database connection closed
[2025-10-20T13:33:50.565Z] [BACKEND] Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: RAW041
- Quantity: 3
- Currency: AED
- Unit: EA
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
None
Processing pricing config: T148 (priority: 1)
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
Processing pricing config: T145 (priority: 1)
D�tails du code taxe: ('20.0',)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================

INFO:     127.0.0.1:12211 - "POST /pricing/ HTTP/1.1" 200 OK
[2025-10-20T13:33:50.739Z] [BACKEND] None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
Code taxe d�termin�: None
None
Code taxe d�termin�: None
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBEXE', 'ITA~Esenzione domestica~Es. domest.', '2', '1', 'BRI', ' ', 'DMG', 'EXO', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="EXO"', ' ', ' ', 'GBEXE', 'ADMIN', '2009-01-22 00:00:00', 'XJLT', '2016-01-19 00:00:00', ' ', '1753-01-01 00:00:00', '2016-01-19 17:08:53', b'\xa1\xd3\x83\xf1z\x17K\xb2\xa2@g($\x05\xa5\xc0', '74.0')
Code taxe d�termin�: GBEXE
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GBEXE
D�tails du code taxe: ('0.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
Code taxe d�termin�: None
INFO:     127.0.0.1:12197 - "POST /taxe/applied/ HTTP/1.1" 200 OK
[2025-10-20T13:33:50.838Z] [BACKEND] None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
Code taxe d�termin�: None
None
V�rification de la r�gle: ('1', 'GBDOM_GBEXE', 'ITA~Esenzione domestica~Es. domest.', '2', '1', 'BRI', ' ', 'DMG', 'EXO', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="EXO"', ' ', ' ', 'GBEXE', 'ADMIN', '2009-01-22 00:00:00', 'XJLT', '2016-01-19 00:00:00', ' ', '1753-01-01 00:00:00', '2016-01-19 17:08:53', b'\xa1\xd3\x83\xf1z\x17K\xb2\xa2@g($\x05\xa5\xc0', '74.0')
Code taxe d�termin�: GBEXE
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GBEXE
D�tails du code taxe: ('0.0',)
None
Code taxe d�termin�: None
INFO:     127.0.0.1:12211 - "POST /taxe/applied/ HTTP/1.1" 200 OK
[2025-10-20T13:33:54.623Z] [BACKEND-ERR] INFO:src.pricing.service:Connected to database: sagex3_seed.db
[2025-10-20T13:33:54.624Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS001, customer: AE011
[2025-10-20T13:33:54.666Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:54.667Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS003, customer: AE011
[2025-10-20T13:33:54.696Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:54.697Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS104, customer: AE011
[2025-10-20T13:33:54.715Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:54.716Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS003, customer: AE011
[2025-10-20T13:33:54.729Z] [BACKEND] === Complete Sage X3 Pricing Engine Test ===


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS001
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS104
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
[2025-10-20T13:33:54.737Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:54.738Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS002, customer: AE011
[2025-10-20T13:33:54.756Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:54.757Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS001, customer: AE011
[2025-10-20T13:33:54.772Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:54.773Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS004, customer: AE011
[2025-10-20T13:33:54.789Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:54.790Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS013, customer: AE011
[2025-10-20T13:33:54.791Z] [BACKEND] Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS002
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS001
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS004
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used:
[2025-10-20T13:33:54.809Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:54.814Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: FIN056, customer: AE011
[2025-10-20T13:33:54.851Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:54.852Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: SER005, customer: AE011
[2025-10-20T13:33:54.892Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:54.893Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: RAW041, customer: AE011
[2025-10-20T13:33:54.911Z] [BACKEND] - Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS013
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: FIN056
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: SER005
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: RAW041
- Quantity: 3
- Currency: AED
- Unit: EA
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
[2025-10-20T13:33:54.925Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:54.926Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: SER008, customer: AE011
[2025-10-20T13:33:54.977Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:54.980Z] [BACKEND-ERR] INFO:src.pricing.service:Database connection closed
[2025-10-20T13:33:54.982Z] [BACKEND] Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: SER008
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================

INFO:     127.0.0.1:12211 - "POST /pricing/ HTTP/1.1" 200 OK
[2025-10-20T13:33:55.282Z] [BACKEND] None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
Code taxe d�termin�: None
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
Code taxe d�termin�: None
None
V�rification de la r�gle: ('1', 'GBDOM_GBEXE', 'ITA~Esenzione domestica~Es. domest.', '2', '1', 'BRI', ' ', 'DMG', 'EXO', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="EXO"', ' ', ' ', 'GBEXE', 'ADMIN', '2009-01-22 00:00:00', 'XJLT', '2016-01-19 00:00:00', ' ', '1753-01-01 00:00:00', '2016-01-19 17:08:53', b'\xa1\xd3\x83\xf1z\x17K\xb2\xa2@g($\x05\xa5\xc0', '74.0')
Code taxe d�termin�: GBEXE
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GBEXE
D�tails du code taxe: ('0.0',)
None
Code taxe d�termin�: None
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
INFO:     127.0.0.1:12211 - "POST /taxe/applied/ HTTP/1.1" 200 OK
[2025-10-20T13:33:58.534Z] [BACKEND-ERR] INFO:src.pricing.service:Connected to database: sagex3_seed.db
[2025-10-20T13:33:58.536Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS001, customer: AE011
[2025-10-20T13:33:58.586Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:58.587Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS003, customer: AE011
[2025-10-20T13:33:58.604Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:58.605Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS104, customer: AE011
[2025-10-20T13:33:58.629Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:58.630Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS003, customer: AE011
[2025-10-20T13:33:58.646Z] [BACKEND] === Complete Sage X3 Pricing Engine Test ===


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS001
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS104
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
[2025-10-20T13:33:58.651Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:58.652Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS002, customer: AE011
[2025-10-20T13:33:58.667Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:58.668Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS001, customer: AE011
[2025-10-20T13:33:58.686Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:58.687Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS004, customer: AE011
[2025-10-20T13:33:58.703Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:58.704Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS013, customer: AE011
[2025-10-20T13:33:58.705Z] [BACKEND] Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS002
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS001
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS004
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used:
[2025-10-20T13:33:58.720Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:58.721Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: FIN056, customer: AE011
[2025-10-20T13:33:58.737Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:58.738Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: SER005, customer: AE011
[2025-10-20T13:33:58.754Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:58.755Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: RAW041, customer: AE011
[2025-10-20T13:33:58.767Z] [BACKEND] - Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS013
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: FIN056
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: SER005
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: RAW041
- Quantity: 3
- Currency: AED
- Unit: EA
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
[2025-10-20T13:33:58.774Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:58.775Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: SER008, customer: AE011
[2025-10-20T13:33:58.794Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:58.796Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: SER006, customer: AE011
[2025-10-20T13:33:58.813Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:33:58.817Z] [BACKEND-ERR] INFO:src.pricing.service:Database connection closed
[2025-10-20T13:33:58.818Z] [BACKEND] Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: SER008
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: SER006
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================

INFO:     127.0.0.1:12211 - "POST /pricing/ HTTP/1.1" 200 OK
[2025-10-20T13:33:59.089Z] [BACKEND] None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
Code taxe d�termin�: None
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
Code taxe d�termin�: None
None
V�rification de la r�gle: ('1', 'GBDOM_GBEXE', 'ITA~Esenzione domestica~Es. domest.', '2', '1', 'BRI', ' ', 'DMG', 'EXO', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="EXO"', ' ', ' ', 'GBEXE', 'ADMIN', '2009-01-22 00:00:00', 'XJLT', '2016-01-19 00:00:00', ' ', '1753-01-01 00:00:00', '2016-01-19 17:08:53', b'\xa1\xd3\x83\xf1z\x17K\xb2\xa2@g($\x05\xa5\xc0', '74.0')
Code taxe d�termin�: GBEXE
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GBEXE
D�tails du code taxe: ('0.0',)
None
Code taxe d�termin�: None
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
INFO:     127.0.0.1:12211 - "POST /taxe/applied/ HTTP/1.1" 200 OK
[2025-10-20T13:34:02.766Z] [BACKEND-ERR] INFO:src.pricing.service:Connected to database: sagex3_seed.db
[2025-10-20T13:34:02.767Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS001, customer: AE011
[2025-10-20T13:34:02.805Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:02.806Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS003, customer: AE011
[2025-10-20T13:34:02.824Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:02.825Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS104, customer: AE011
[2025-10-20T13:34:02.844Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:02.845Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS003, customer: AE011
[2025-10-20T13:34:02.857Z] [BACKEND] === Complete Sage X3 Pricing Engine Test ===


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS001
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS104
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
[2025-10-20T13:34:02.863Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:02.865Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS002, customer: AE011
[2025-10-20T13:34:02.919Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:02.920Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS001, customer: AE011
[2025-10-20T13:34:03.048Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:03.049Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS004, customer: AE011
[2025-10-20T13:34:03.073Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:03.077Z] [BACKEND] Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS002
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS001
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS004
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used:
[2025-10-20T13:34:03.078Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS013, customer: AE011
[2025-10-20T13:34:03.118Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:03.119Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: FIN056, customer: AE011
[2025-10-20T13:34:03.136Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:03.137Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: SER005, customer: AE011
[2025-10-20T13:34:03.154Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:03.156Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: RAW041, customer: AE011
[2025-10-20T13:34:03.169Z] [BACKEND] - Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS013
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: FIN056
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: SER005
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: RAW041
- Quantity: 3
- Currency: AED
- Unit: EA
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
[2025-10-20T13:34:03.174Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:03.175Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: SER008, customer: AE011
[2025-10-20T13:34:03.192Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:03.193Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: SER006, customer: AE011
[2025-10-20T13:34:03.213Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:03.214Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: RAW040, customer: AE011
[2025-10-20T13:34:03.228Z] [BACKEND] Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: SER008
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: SER006
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: RAW040
- Quantity: 2
- Currency: AED
- Unit: EA
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
[2025-10-20T13:34:03.229Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:03.233Z] [BACKEND-ERR] INFO:src.pricing.service:Database connection closed
[2025-10-20T13:34:03.234Z] [BACKEND] Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================

INFO:     127.0.0.1:12211 - "POST /pricing/ HTTP/1.1" 200 OK
[2025-10-20T13:34:03.338Z] [BACKEND-ERR] INFO:src.pricing.service:Connected to database: sagex3_seed.db
[2025-10-20T13:34:03.339Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS001, customer: AE011
[2025-10-20T13:34:03.383Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:03.384Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS003, customer: AE011
[2025-10-20T13:34:03.400Z] [BACKEND] None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
Code taxe d�termin�: None
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
=== Complete Sage X3 Pricing Engine Test ===


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS001
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
None
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
Processing pricing config: T513 (priority: 50)
D�tails du code taxe: ('20.0',)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
[2025-10-20T13:34:03.406Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:03.407Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS104, customer: AE011
[2025-10-20T13:34:03.435Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:03.436Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS003, customer: AE011
[2025-10-20T13:34:03.460Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:03.462Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS002, customer: AE011
[2025-10-20T13:34:03.481Z] [BACKEND] Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS104
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

None
Code taxe d�termin�: None
Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS002
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
None
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
V�rification de la r�gle: ('1', 'GBDOM_GBEXE', 'ITA~Esenzione domestica~Es. domest.', '2', '1', 'BRI', ' ', 'DMG', 'EXO', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="EXO"', ' ', ' ', 'GBEXE', 'ADMIN', '2009-01-22 00:00:00', 'XJLT', '2016-01-19 00:00:00', ' ', '1753-01-01 00:00:00', '2016-01-19 17:08:53', b'\xa1\xd3\x83\xf1z\x17K\xb2\xa2@g($\x05\xa5\xc0', '74.0')
Code taxe d�termin�: GBEXE
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GBEXE
Processing pricing config: T509 (priority: 10)
D�tails du code taxe: ('0.0',)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
[2025-10-20T13:34:03.486Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:03.487Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS001, customer: AE011
[2025-10-20T13:34:03.512Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:03.513Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS004, customer: AE011
[2025-10-20T13:34:03.537Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:03.538Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS013, customer: AE011
[2025-10-20T13:34:03.556Z] [BACKEND] Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS001
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
None
Processing pricing config: T515 (priority: 50)
Code taxe d�termin�: None
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS004
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS013
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
None
Processing pricing config: T148 (priority: 1)
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
Processing pricing config: T145 (priority: 1)
D�tails du code taxe: ('20.0',)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
[2025-10-20T13:34:03.561Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:03.562Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: FIN056, customer: AE011
[2025-10-20T13:34:03.584Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:03.585Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: SER005, customer: AE011
[2025-10-20T13:34:03.608Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:03.610Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: RAW041, customer: AE011
[2025-10-20T13:34:03.650Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:03.651Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: SER008, customer: AE011
[2025-10-20T13:34:03.652Z] [BACKEND] Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: FIN056
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: SER005
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
None
Processing pricing config: T148 (priority: 1)
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
Processing pricing config: T145 (priority: 1)
D�tails du code taxe: ('20.0',)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: RAW041
- Quantity: 3
- Currency: AED
- Unit: EA
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used:
[2025-10-20T13:34:03.674Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:03.676Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: SER006, customer: AE011
[2025-10-20T13:34:03.679Z] [BACKEND] - Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: SER008
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
None
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: SER006
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Code taxe d�termin�: None
INFO:     127.0.0.1:12211 - "POST /taxe/applied/ HTTP/1.1" 200 OK
[2025-10-20T13:34:03.704Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:03.705Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: RAW040, customer: AE011
[2025-10-20T13:34:03.723Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:03.724Z] [BACKEND-ERR] INFO:src.pricing.service:Database connection closed
[2025-10-20T13:34:03.727Z] [BACKEND] Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: RAW040
- Quantity: 3
- Currency: AED
- Unit: EA
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================

INFO:     127.0.0.1:12232 - "POST /pricing/ HTTP/1.1" 200 OK
[2025-10-20T13:34:04.000Z] [BACKEND] None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
Code taxe d�termin�: None
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
Code taxe d�termin�: None
None
V�rification de la r�gle: ('1', 'GBDOM_GBEXE', 'ITA~Esenzione domestica~Es. domest.', '2', '1', 'BRI', ' ', 'DMG', 'EXO', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="EXO"', ' ', ' ', 'GBEXE', 'ADMIN', '2009-01-22 00:00:00', 'XJLT', '2016-01-19 00:00:00', ' ', '1753-01-01 00:00:00', '2016-01-19 17:08:53', b'\xa1\xd3\x83\xf1z\x17K\xb2\xa2@g($\x05\xa5\xc0', '74.0')
Code taxe d�termin�: GBEXE
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GBEXE
D�tails du code taxe: ('0.0',)
None
Code taxe d�termin�: None
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
Code taxe d�termin�: None
INFO:     127.0.0.1:12232 - "POST /taxe/applied/ HTTP/1.1" 200 OK
[2025-10-20T13:34:09.565Z] [BACKEND-ERR] INFO:src.pricing.service:Connected to database: sagex3_seed.db
[2025-10-20T13:34:09.567Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS001, customer: AE011
[2025-10-20T13:34:09.602Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:09.603Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS003, customer: AE011
[2025-10-20T13:34:09.619Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:09.620Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS104, customer: AE011
[2025-10-20T13:34:09.639Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:09.640Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS003, customer: AE011
[2025-10-20T13:34:09.653Z] [BACKEND] === Complete Sage X3 Pricing Engine Test ===


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS001
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS104
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
[2025-10-20T13:34:09.658Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:09.659Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS002, customer: AE011
[2025-10-20T13:34:09.680Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:09.681Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS001, customer: AE011
[2025-10-20T13:34:09.699Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:09.700Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS004, customer: AE011
[2025-10-20T13:34:09.717Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:09.718Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS013, customer: AE011
[2025-10-20T13:34:09.719Z] [BACKEND] Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS002
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS001
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS004
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used:
[2025-10-20T13:34:09.739Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:09.740Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: FIN056, customer: AE011
[2025-10-20T13:34:09.755Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:09.756Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: SER005, customer: AE011
[2025-10-20T13:34:09.772Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:09.773Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: RAW041, customer: AE011
[2025-10-20T13:34:09.786Z] [BACKEND] - Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS013
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: FIN056
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: SER005
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: RAW041
- Quantity: 3
- Currency: AED
- Unit: EA
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
[2025-10-20T13:34:09.793Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:09.794Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: SER008, customer: AE011
[2025-10-20T13:34:09.812Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:09.813Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: SER006, customer: AE011
[2025-10-20T13:34:09.830Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:09.831Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: RAW040, customer: AE011
[2025-10-20T13:34:09.850Z] [BACKEND] Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: SER008
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: SER006
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: RAW040
- Quantity: 3
- Currency: AED
- Unit: EA
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
[2025-10-20T13:34:09.851Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:09.852Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: SER016, customer: AE011
[2025-10-20T13:34:09.868Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:09.869Z] [BACKEND-ERR] INFO:src.pricing.service:Database connection closed
[2025-10-20T13:34:09.870Z] [BACKEND] Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: SER016
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================

INFO:     127.0.0.1:12257 - "POST /pricing/ HTTP/1.1" 200 OK
[2025-10-20T13:34:10.145Z] [BACKEND] None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
Code taxe d�termin�: None
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
Code taxe d�termin�: None
None
V�rification de la r�gle: ('1', 'GBDOM_GBEXE', 'ITA~Esenzione domestica~Es. domest.', '2', '1', 'BRI', ' ', 'DMG', 'EXO', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="EXO"', ' ', ' ', 'GBEXE', 'ADMIN', '2009-01-22 00:00:00', 'XJLT', '2016-01-19 00:00:00', ' ', '1753-01-01 00:00:00', '2016-01-19 17:08:53', b'\xa1\xd3\x83\xf1z\x17K\xb2\xa2@g($\x05\xa5\xc0', '74.0')
Code taxe d�termin�: GBEXE
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GBEXE
D�tails du code taxe: ('0.0',)
None
Code taxe d�termin�: None
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
Code taxe d�termin�: None
None
Code taxe d�termin�: None
INFO:     127.0.0.1:12257 - "POST /taxe/applied/ HTTP/1.1" 200 OK
[2025-10-20T13:34:10.236Z] [BACKEND-ERR] INFO:src.pricing.service:Connected to database: sagex3_seed.db
[2025-10-20T13:34:10.239Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS001, customer: AE011
[2025-10-20T13:34:10.279Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:10.280Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS003, customer: AE011
[2025-10-20T13:34:10.299Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:10.301Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: BMS104, customer: AE011
[2025-10-20T13:34:10.322Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:10.323Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS003, customer: AE011
[2025-10-20T13:34:10.338Z] [BACKEND] === Complete Sage X3 Pricing Engine Test ===


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS001
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: BMS104
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS003
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
[2025-10-20T13:34:10.343Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:10.345Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS002, customer: AE011
[2025-10-20T13:34:10.362Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:10.363Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS001, customer: AE011
[2025-10-20T13:34:10.380Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:10.381Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS004, customer: AE011
[2025-10-20T13:34:10.405Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:10.407Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: DIS013, customer: AE011
[2025-10-20T13:34:10.408Z] [BACKEND] Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS002
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS001
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS004
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used:
[2025-10-20T13:34:10.430Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:10.431Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: FIN056, customer: AE011
[2025-10-20T13:34:10.448Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:10.449Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: SER005, customer: AE011
[2025-10-20T13:34:10.471Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:10.472Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: RAW041, customer: AE011
[2025-10-20T13:34:10.483Z] [BACKEND] - Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: DIS013
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: FIN056
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: SER005
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: RAW041
- Quantity: 3
- Currency: AED
- Unit: EA
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
[2025-10-20T13:34:10.489Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:10.490Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: SER008, customer: AE011
[2025-10-20T13:34:10.508Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:10.509Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: SER006, customer: AE011
[2025-10-20T13:34:10.526Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:10.527Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: RAW040, customer: AE011
[2025-10-20T13:34:10.543Z] [BACKEND] Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: SER008
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: SER006
- Quantity: 2
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 2) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: RAW040
- Quantity: 3
- Currency: AED
- Unit: EA
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
[2025-10-20T13:34:10.545Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:10.546Z] [BACKEND-ERR] INFO:src.pricing.service:Starting pricing calculation for item: SER016, customer: AE011
[2025-10-20T13:34:10.565Z] [BACKEND-ERR] INFO:src.pricing.service:Pricing calculation completed. Base price: 0, Final price after adjustments: 0 AED
[2025-10-20T13:34:10.567Z] [BACKEND-ERR] INFO:src.pricing.service:Database connection closed
[2025-10-20T13:34:10.568Z] [BACKEND] Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================


============================================================
TESTING: Standard Context (150 units)
============================================================
- Customer: AE011
- Item: SER016
- Quantity: 3
- Currency: AED
- Unit: UN
- Date: 2025-10-20 14:05:50.246733

Processing pricing config: T517 (priority: 1)
Processing pricing config: T148 (priority: 1)
Processing pricing config: T145 (priority: 1)
Processing pricing config: T144 (priority: 1)
Processing pricing config: T143 (priority: 1)
Processing pricing config: T146 (priority: 1)
Processing pricing config: T509 (priority: 10)
Processing pricing config: T512 (priority: 10)
Processing pricing config: T100 (priority: 10)
Processing pricing config: T0001 (priority: 12)
Processing pricing config: T147 (priority: 2)
Processing pricing config: T8500 (priority: 2)
Processing pricing config: T502 (priority: 20)
Processing pricing config: T510 (priority: 20)
Processing pricing config: T511 (priority: 20)
Processing pricing config: T506 (priority: 30)
Processing pricing config: T20 (priority: 40)
Processing pricing config: T21 (priority: 40)
Processing pricing config: T111 (priority: 5)
Processing pricing config: T10 (priority: 50)
Processing pricing config: T30 (priority: 50)
Processing pricing config: T40 (priority: 50)
Processing pricing config: T50 (priority: 50)
Processing pricing config: T501 (priority: 50)
Processing pricing config: T503 (priority: 50)
Processing pricing config: T504 (priority: 50)
Processing pricing config: T505 (priority: 50)
Processing pricing config: T507 (priority: 50)
Processing pricing config: T508 (priority: 50)
Processing pricing config: T513 (priority: 50)
Processing pricing config: T515 (priority: 50)
Processing pricing config: T516 (priority: 50)
Processing pricing config: T518 (priority: 50)
Processing pricing config: T11 (priority: 50)
Processing pricing config: T514 (priority: 99)

=== PRICING CALCULATION RESULTS ===
- Pricing Rule Applied: 
- Price Structure Used: 
- Reason Code: 

=== DETAILED PRICE BREAKDOWN ===
- Base Unit Price: 0 AED
- No adjustments applied
- Final Unit Price: 0 AED
- Commission Coefficient: 1
- No free items awarded


=== LINE TOTALS (Quantity: 3) ===
- Before adjustments: 0 AED
- After adjustments: 0 AED

============================================================

INFO:     127.0.0.1:12257 - "POST /pricing/ HTTP/1.1" 200 OK
[2025-10-20T13:34:10.814Z] [BACKEND] None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
Code taxe d�termin�: None
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
Code taxe d�termin�: None
None
V�rification de la r�gle: ('1', 'GBDOM_GBEXE', 'ITA~Esenzione domestica~Es. domest.', '2', '1', 'BRI', ' ', 'DMG', 'EXO', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="EXO"', ' ', ' ', 'GBEXE', 'ADMIN', '2009-01-22 00:00:00', 'XJLT', '2016-01-19 00:00:00', ' ', '1753-01-01 00:00:00', '2016-01-19 17:08:53', b'\xa1\xd3\x83\xf1z\x17K\xb2\xa2@g($\x05\xa5\xc0', '74.0')
Code taxe d�termin�: GBEXE
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GBEXE
D�tails du code taxe: ('0.0',)
None
Code taxe d�termin�: None
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
V�rification de la r�gle: ('1', 'GBDOM_GBNOR', 'ENG~Domestic Normal~Dom-Nor', '2', '1', 'BRI', ' ', 'DMG', 'NOR', 'TAXLINK', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', '0', '0', '0', '0', '0', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '[F:TLK]LEG="BRI" & [F:TLK]VACBPR="DMG" & [F:TLK]VACITM="NOR"', ' ', ' ', 'GB001', 'MODX3', '2019-09-25 00:00:00', 'MODX3', '2019-09-25 00:00:00', ' ', '2019-09-25 11:36:16', '2019-09-25 11:36:16', b'\xb5\x80\x8cO\xfc\x89Hb\x8b\xf4\x8d\xa2\x91\x05\xb3\x84', '533.0')
Code taxe d�termin�: GB001
Ex�cution de la requ�te pour r�cup�rer les d�tails du code taxe avec code_taxe=GB001
D�tails du code taxe: ('20.0',)
None
Code taxe d�termin�: None
None
Code taxe d�termin�: None
INFO:     127.0.0.1:12257 - "POST /taxe/applied/ HTTP/1.1" 200 OK
[2025-10-20T13:34:30.935Z] [BACKEND] INFO:     127.0.0.1:12325 - "POST /command/add HTTP/1.1" 200 OK
[2025-10-20T13:38:01.253Z] [BACKEND-ERR] INFO:__main__:\U0001f504 Running sync_data() ...
[2025-10-20T13:38:44.049Z] [BACKEND-ERR] INFO:__main__:\u2705 sync_data completed.
[2025-10-20T13:40:02.351Z] [BACKEND] Processing table: SEED.ITMMASTER
 ITMMASTER: 546 rows copied.
 Processing table: SEED.ITMSALES
 ITMSALES: 534 rows copied.
 Processing table: SEED.ITMFACILIT
 ITMFACILIT: 3684 rows copied.
 Processing table: SEED.BPARTNER
 BPARTNER: 367 rows copied.
 Processing table: SEED.BPCUSTOMER
 BPCUSTOMER: 172 rows copied.
 Processing table: SEED.BPCUSTMVT
 BPCUSTMVT: 231 rows copied.
 Processing table: SEED.BPDLVCUST
 BPDLVCUST: 217 rows copied.
 Processing table: SEED.SALESREP
 SALESREP: 31 rows copied.
 Processing table: SEED.SPRICLINK
 SPRICLINK: 0 rows copied.
 Processing table: SEED.PRICSTRUCT
 PRICSTRUCT: 5 rows copied.
 Processing table: SEED.SPREASON
 SPREASON: 18 rows copied.
 Processing table: SEED.SPRICCONF
 SPRICCONF: 36 rows copied.
 Processing table: SEED.SPRICLIST
 SPRICLIST: 153 rows copied.
 Processing table: SEED.SORDER
 SORDER: 1194 rows copied.
 Processing table: SEED.PIMPL
 PIMPL: 975 rows copied.
 Processing table: SEED.TABMODELIV
 TABMODELIV: 12 rows copied.
 Processing table: SEED.STOCK
 STOCK: 8315 rows copied.
 Processing table: SEED.FACILITY
 FACILITY: 76 rows copied.
 Processing table: SEED.SORDER
 SORDER: 1194 rows copied.
 Processing table: SEED.BPCARRIER
 BPCARRIER: 17 rows copied.
 Processing table: SEED.COMPANY
 COMPANY: 51 rows copied.
 Processing table: SEED.BPDLVCUST
 BPDLVCUST: 217 rows copied.
 Processing table: SEED.TABSOHTYP
 TABSOHTYP: 10 rows copied.
 Processing table: SEED.TABVACBPR
 TABVACBPR: 139 rows copied.
 Processing table: SEED.SVCRVAT
 SVCRVAT: 3129 rows copied.
 Processing table: SEED.ITMCATEG
 ITMCATEG: 36 rows copied.
 Processing table: SEED.CBLOB
 CBLOB: 437 rows copied.
 Processing table: SEED.BLOBEXPENSES
 BLOBEXPENSES: 8 rows copied.
 Processing table: SEED.ABLOB
 ABLOB: 114 rows copied.
 Processing table: SEED.AUTILIS
 AUTILIS: 84 rows copied.
 Processing table: SEED.AMENUSER
 AMENUSER: 11235 rows copied.
 Processing table: SEED.TABVAT
 TABVAT: 428 rows copied.
 Processing table: SEED.BPADDRESS
 BPADDRESS: 643 rows copied.
 Processing table: SEED.WAREHOUSE
 WAREHOUSE: 5 rows copied.
 Processing table: SEED.TABMODELIV
 TABMODELIV: 12 rows copied.
 Processing table: SEED.TABPAYTERM
 TABPAYTERM: 172 rows copied.
 Processing table: SEED.TABDEPAGIO
 TABDEPAGIO: 18 rows copied.
 Processing table: SEED.BPCINVVAT
 BPCINVVAT: 120 rows copied.
 Processing table: SEED.TABVAT
 TABVAT: 428 rows copied.
 Processing table: SEED.TABRATVAT
 TABRATVAT: 514 rows copied.
 Processing table: SEED.TABVACITM
 TABVACITM: 92 rows copied.
 Processing table: SEED.TABVAC
 TABVAC: 566 rows copied.
 Processing table: SEED.TAXLINK
 TAXLINK: 0 rows copied.
 Processing table: SEED.SFOOTINV
 SFOOTINV: 9 rows copied.
 Processing table: SEED.SORDERQ
 SORDERQ: 4215 rows copied.
 Processing table: SEED.SORDERP
 SORDERP: 4135 rows copied.
 All SEED tables copied successfully!
INFO:     127.0.0.1:12942 - "GET /clients HTTP/1.1" 307 Temporary Redirect
[2025-10-20T13:40:02.369Z] [BACKEND] INFO:     127.0.0.1:12941 - "GET /adresse/vente HTTP/1.1" 200 OK
[2025-10-20T13:40:02.383Z] [BACKEND] INFO:     127.0.0.1:12940 - "GET /command/type HTTP/1.1" 200 OK
[2025-10-20T13:40:02.477Z] [BACKEND] INFO:     127.0.0.1:12940 - "GET /clients/ HTTP/1.1" 200 OK
[2025-10-20T13:40:36.192Z] [BACKEND] INFO:     127.0.0.1:13003 - "GET /clients HTTP/1.1" 307 Temporary Redirect
[2025-10-20T13:40:36.211Z] [BACKEND] INFO:     127.0.0.1:13004 - "GET /command/type HTTP/1.1" 200 OK
[2025-10-20T13:40:36.224Z] [BACKEND] INFO:     127.0.0.1:13005 - "GET /adresse/vente HTTP/1.1" 200 OK
[2025-10-20T13:40:36.244Z] [BACKEND] INFO:     127.0.0.1:13005 - "GET /adresse/expedition?legacy_comp=AE10 HTTP/1.1" 200 OK
[2025-10-20T13:40:36.416Z] [BACKEND] INFO:     127.0.0.1:13005 - "GET /clients/ HTTP/1.1" 200 OK
[2025-10-20T13:40:46.076Z] [BACKEND] INFO:     127.0.0.1:13022 - "GET /clients HTTP/1.1" 307 Temporary Redirect
[2025-10-20T13:40:46.092Z] [BACKEND] INFO:     127.0.0.1:13020 - "GET /adresse/vente HTTP/1.1" 200 OK
[2025-10-20T13:40:46.094Z] [BACKEND] INFO:     127.0.0.1:13021 - "GET /command/type HTTP/1.1" 200 OK
[2025-10-20T13:40:46.123Z] [BACKEND] INFO:     127.0.0.1:13021 - "GET /adresse/expedition?legacy_comp=AE10 HTTP/1.1" 200 OK
[2025-10-20T13:40:46.234Z] [BACKEND] INFO:     127.0.0.1:13021 - "GET /clients/ HTTP/1.1" 200 OK
[2025-10-20T13:44:56.052Z] [BACKEND] INFO:     127.0.0.1:13524 - "GET /clients HTTP/1.1" 307 Temporary Redirect
[2025-10-20T13:44:56.074Z] [BACKEND] INFO:     127.0.0.1:13523 - "GET /adresse/vente HTTP/1.1" 200 OK
[2025-10-20T13:44:56.076Z] [BACKEND] INFO:     127.0.0.1:13525 - "GET /command/type HTTP/1.1" 200 OK
[2025-10-20T13:44:56.108Z] [BACKEND] INFO:     127.0.0.1:13525 - "GET /adresse/expedition?legacy_comp=AE10 HTTP/1.1" 200 OK
[2025-10-20T13:44:56.234Z] [BACKEND] INFO:     127.0.0.1:13525 - "GET /clients/ HTTP/1.1" 200 OK
[2025-10-20T13:45:03.464Z] [BACKEND] INFO:     127.0.0.1:13536 - "GET /adresse/expedition?legacy_comp=FR10 HTTP/1.1" 200 OK
[2025-10-20T13:45:11.990Z] [BACKEND] Ex�cution de la requ�te pour l'�l�ment de facturation 0 avec query=
        SELECT T1.INVDTA_0, T1.INVDTAAMT_0, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_0 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 1 avec query=
        SELECT T1.INVDTA_1, T1.INVDTAAMT_1, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_1 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 2 avec query=
        SELECT T1.INVDTA_2, T1.INVDTAAMT_2, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_2 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 3 avec query=
        SELECT T1.INVDTA_3, T1.INVDTAAMT_3, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_3 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 4 avec query=
        SELECT T1.INVDTA_4, T1.INVDTAAMT_4, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_4 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 5 avec query=
        SELECT T1.INVDTA_5, T1.INVDTAAMT_5, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_5 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 6 avec query=
        SELECT T1.INVDTA_6, T1.INVDTAAMT_6, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_6 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 7 avec query=
        SELECT T1.INVDTA_7, T1.INVDTAAMT_7, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_7 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 8 avec query=
        SELECT T1.INVDTA_8, T1.INVDTAAMT_8, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_8 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 9 avec query=
        SELECT T1.INVDTA_9, T1.INVDTAAMT_9, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_9 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 10 avec query=
        SELECT T1.INVDTA_10, T1.INVDTAAMT_10, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_10 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 11 avec query=
        SELECT T1.INVDTA_11, T1.INVDTAAMT_11, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_11 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 12 avec query=
        SELECT T1.INVDTA_12, T1.INVDTAAMT_12, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_12 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 13 avec query=
        SELECT T1.INVDTA_13, T1.INVDTAAMT_13, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_13 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 14 avec query=
        SELECT T1.INVDTA_14, T1.INVDTAAMT_14, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_14 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 15 avec query=
        SELECT T1.INVDTA_15, T1.INVDTAAMT_15, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_15 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 16 avec query=
        SELECT T1.INVDTA_16, T1.INVDTAAMT_16, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_16 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 17 avec query=
        SELECT T1.INVDTA_17, T1.INVDTAAMT_17, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_17 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 18 avec query=
        SELECT T1.INVDTA_18, T1.INVDTAAMT_18, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_18 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 19 avec query=
        SELECT T1.INVDTA_19, T1.INVDTAAMT_19, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_19 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 20 avec query=
        SELECT T1.INVDTA_20, T1.INVDTAAMT_20, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_20 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 21 avec query=
        SELECT T1.INVDTA_21, T1.INVDTAAMT_21, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_21 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 22 avec query=
        SELECT T1.INVDTA_22, T1.INVDTAAMT_22, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_22 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 23 avec query=
        SELECT T1.INVDTA_23, T1.INVDTAAMT_23, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_23 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 24 avec query=
        SELECT T1.INVDTA_24, T1.INVDTAAMT_24, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_24 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 25 avec query=
        SELECT T1.INVDTA_25, T1.INVDTAAMT_25, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_25 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
INFO:     127.0.0.1:13549 - "GET /clients/tiers/?customer_code=FR021 HTTP/1.1" 200 OK
[2025-10-20T13:45:11.992Z] [BACKEND] Ex�cution de la requ�te pour l'�l�ment de facturation 26 avec query=
        SELECT T1.INVDTA_26, T1.INVDTAAMT_26, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_26 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
INFO:     127.0.0.1:13551 - "GET /currency/code?customer_code=FR021 HTTP/1.1" 200 OK
[2025-10-20T13:45:12.005Z] [BACKEND] Ex�cution de la requ�te pour l'�l�ment de facturation 27 avec query=
        SELECT T1.INVDTA_27, T1.INVDTAAMT_27, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_27 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 28 avec query=
        SELECT T1.INVDTA_28, T1.INVDTAAMT_28, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_28 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 29 avec query=
        SELECT T1.INVDTA_29, T1.INVDTAAMT_29, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_29 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
INFO:     127.0.0.1:13550 - "GET /facture/element?customer_code=FR021 HTTP/1.1" 200 OK
[2025-10-20T13:45:12.008Z] [BACKEND] INFO:     127.0.0.1:13553 - "GET /taxe/regime?customer_code=FR021 HTTP/1.1" 200 OK
[2025-10-20T13:45:12.447Z] [BACKEND] INFO:     127.0.0.1:13552 - "GET /articles/?site_id=AE011 HTTP/1.1" 200 OK
[2025-10-20T13:45:16.719Z] [BACKEND] Ex�cution de la requ�te pour l'�l�ment de facturation 0 avec query=
        SELECT T1.INVDTA_0, T1.INVDTAAMT_0, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_0 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
INFO:     127.0.0.1:13550 - "GET /currency/code?customer_code=FR021 HTTP/1.1" 200 OK
[2025-10-20T13:45:16.737Z] [BACKEND] Ex�cution de la requ�te pour l'�l�ment de facturation 1 avec query=
        SELECT T1.INVDTA_1, T1.INVDTAAMT_1, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_1 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 2 avec query=
        SELECT T1.INVDTA_2, T1.INVDTAAMT_2, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_2 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 3 avec query=
        SELECT T1.INVDTA_3, T1.INVDTAAMT_3, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_3 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 4 avec query=
        SELECT T1.INVDTA_4, T1.INVDTAAMT_4, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_4 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 5 avec query=
        SELECT T1.INVDTA_5, T1.INVDTAAMT_5, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_5 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 6 avec query=
        SELECT T1.INVDTA_6, T1.INVDTAAMT_6, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_6 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 7 avec query=
        SELECT T1.INVDTA_7, T1.INVDTAAMT_7, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_7 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 8 avec query=
        SELECT T1.INVDTA_8, T1.INVDTAAMT_8, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_8 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 9 avec query=
        SELECT T1.INVDTA_9, T1.INVDTAAMT_9, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_9 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 10 avec query=
        SELECT T1.INVDTA_10, T1.INVDTAAMT_10, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_10 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 11 avec query=
        SELECT T1.INVDTA_11, T1.INVDTAAMT_11, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_11 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 12 avec query=
        SELECT T1.INVDTA_12, T1.INVDTAAMT_12, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_12 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 13 avec query=
        SELECT T1.INVDTA_13, T1.INVDTAAMT_13, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_13 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 14 avec query=
        SELECT T1.INVDTA_14, T1.INVDTAAMT_14, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_14 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 15 avec query=
        SELECT T1.INVDTA_15, T1.INVDTAAMT_15, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_15 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 16 avec query=
        SELECT T1.INVDTA_16, T1.INVDTAAMT_16, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_16 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 17 avec query=
        SELECT T1.INVDTA_17, T1.INVDTAAMT_17, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_17 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 18 avec query=
        SELECT T1.INVDTA_18, T1.INVDTAAMT_18, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_18 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 19 avec query=
        SELECT T1.INVDTA_19, T1.INVDTAAMT_19, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_19 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 20 avec query=
        SELECT T1.INVDTA_20, T1.INVDTAAMT_20, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_20 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 21 avec query=
        SELECT T1.INVDTA_21, T1.INVDTAAMT_21, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_21 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 22 avec query=
        SELECT T1.INVDTA_22, T1.INVDTAAMT_22, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_22 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 23 avec query=
        SELECT T1.INVDTA_23, T1.INVDTAAMT_23, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_23 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 24 avec query=
        SELECT T1.INVDTA_24, T1.INVDTAAMT_24, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_24 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 25 avec query=
        SELECT T1.INVDTA_25, T1.INVDTAAMT_25, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_25 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 26 avec query=
        SELECT T1.INVDTA_26, T1.INVDTAAMT_26, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_26 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 27 avec query=
        SELECT T1.INVDTA_27, T1.INVDTAAMT_27, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_27 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 28 avec query=
        SELECT T1.INVDTA_28, T1.INVDTAAMT_28, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_28 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 29 avec query=
        SELECT T1.INVDTA_29, T1.INVDTAAMT_29, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_29 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
[2025-10-20T13:45:16.742Z] [BACKEND] INFO:     127.0.0.1:13553 - "GET /facture/element?customer_code=FR021 HTTP/1.1" 200 OK
[2025-10-20T13:45:17.305Z] [BACKEND] INFO:     127.0.0.1:13552 - "GET /articles/?site_id=FR013 HTTP/1.1" 200 OK
[2025-10-20T13:45:40.075Z] [BACKEND] Ex�cution de la requ�te pour l'�l�ment de facturation 0 avec query=
        SELECT T1.INVDTA_0, T1.INVDTAAMT_0, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_0 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
INFO:     127.0.0.1:13600 - "GET /currency/code?customer_code=FR021 HTTP/1.1" 200 OK
[2025-10-20T13:45:40.102Z] [BACKEND] Ex�cution de la requ�te pour l'�l�ment de facturation 1 avec query=
        SELECT T1.INVDTA_1, T1.INVDTAAMT_1, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_1 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 2 avec query=
        SELECT T1.INVDTA_2, T1.INVDTAAMT_2, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_2 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 3 avec query=
        SELECT T1.INVDTA_3, T1.INVDTAAMT_3, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_3 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 4 avec query=
        SELECT T1.INVDTA_4, T1.INVDTAAMT_4, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_4 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 5 avec query=
        SELECT T1.INVDTA_5, T1.INVDTAAMT_5, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_5 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 6 avec query=
        SELECT T1.INVDTA_6, T1.INVDTAAMT_6, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_6 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 7 avec query=
        SELECT T1.INVDTA_7, T1.INVDTAAMT_7, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_7 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 8 avec query=
        SELECT T1.INVDTA_8, T1.INVDTAAMT_8, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_8 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 9 avec query=
        SELECT T1.INVDTA_9, T1.INVDTAAMT_9, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_9 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 10 avec query=
        SELECT T1.INVDTA_10, T1.INVDTAAMT_10, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_10 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 11 avec query=
        SELECT T1.INVDTA_11, T1.INVDTAAMT_11, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_11 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 12 avec query=
        SELECT T1.INVDTA_12, T1.INVDTAAMT_12, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_12 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 13 avec query=
        SELECT T1.INVDTA_13, T1.INVDTAAMT_13, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_13 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 14 avec query=
        SELECT T1.INVDTA_14, T1.INVDTAAMT_14, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_14 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 15 avec query=
        SELECT T1.INVDTA_15, T1.INVDTAAMT_15, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_15 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 16 avec query=
        SELECT T1.INVDTA_16, T1.INVDTAAMT_16, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_16 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 17 avec query=
        SELECT T1.INVDTA_17, T1.INVDTAAMT_17, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_17 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 18 avec query=
        SELECT T1.INVDTA_18, T1.INVDTAAMT_18, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_18 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 19 avec query=
        SELECT T1.INVDTA_19, T1.INVDTAAMT_19, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_19 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 20 avec query=
        SELECT T1.INVDTA_20, T1.INVDTAAMT_20, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_20 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 21 avec query=
        SELECT T1.INVDTA_21, T1.INVDTAAMT_21, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_21 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 22 avec query=
        SELECT T1.INVDTA_22, T1.INVDTAAMT_22, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_22 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 23 avec query=
        SELECT T1.INVDTA_23, T1.INVDTAAMT_23, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_23 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 24 avec query=
        SELECT T1.INVDTA_24, T1.INVDTAAMT_24, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_24 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 25 avec query=
        SELECT T1.INVDTA_25, T1.INVDTAAMT_25, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_25 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 26 avec query=
        SELECT T1.INVDTA_26, T1.INVDTAAMT_26, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_26 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 27 avec query=
        SELECT T1.INVDTA_27, T1.INVDTAAMT_27, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_27 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 28 avec query=
        SELECT T1.INVDTA_28, T1.INVDTAAMT_28, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_28 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 29 avec query=
        SELECT T1.INVDTA_29, T1.INVDTAAMT_29, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_29 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
[2025-10-20T13:45:40.105Z] [BACKEND] INFO:     127.0.0.1:13598 - "GET /facture/element?customer_code=FR021 HTTP/1.1" 200 OK
[2025-10-20T13:45:40.990Z] [BACKEND] INFO:     127.0.0.1:13599 - "GET /articles/?site_id=FR012 HTTP/1.1" 200 OK
[2025-10-20T13:46:15.724Z] [INFO] Electron app ready
[2025-10-20T13:46:15.729Z] [INFO] Attempting to kill processes on port 7626
[2025-10-20T13:46:16.125Z] [INFO] Killing processes on port 7626: 21572, 8236
[2025-10-20T13:46:16.641Z] [INFO] Successfully killed process tree for PID 21572
[2025-10-20T13:46:16.657Z] [INFO] Successfully killed process tree for PID 8236
[2025-10-20T13:46:16.954Z] [WARN] Backend process exited with code 1, signal: null
[2025-10-20T13:46:21.693Z] [INFO] Starting backend server
[2025-10-20T13:46:21.697Z] [INFO] Backend executable path: C:\Users\DIGITAL MARKET\Documents\ProjetWaza\PROJET-POS\POS-ELECTRON\release\win-unpacked\resources\backend\api.exe
[2025-10-20T13:46:21.699Z] [INFO] Starting backend process
[2025-10-20T13:46:26.050Z] [BACKEND-ERR] INFO:     Started server process [16980]
INFO:     Waiting for application startup.
[2025-10-20T13:46:26.052Z] [BACKEND-ERR] INFO:__main__:\U0001f680 Background sync started.
INFO:__main__:\U0001f504 Running sync_data() ...
[2025-10-20T13:46:26.056Z] [BACKEND-ERR] INFO:     Application startup complete.
[2025-10-20T13:46:26.058Z] [BACKEND-ERR] INFO:     Uvicorn running on http://127.0.0.1:7626 (Press CTRL+C to quit)
[2025-10-20T13:46:26.724Z] [INFO] Backend startup timeout reached, assuming ready
[2025-10-20T13:46:26.832Z] [INFO] Checking path: C:\Users\DIGITAL MARKET\Documents\ProjetWaza\PROJET-POS\POS-ELECTRON\release\win-unpacked\resources\app.asar\electron\frontend\out\index.html
[2025-10-20T13:46:26.834Z] [INFO] Checking path: C:\Users\DIGITAL MARKET\Documents\ProjetWaza\PROJET-POS\POS-ELECTRON\release\win-unpacked\resources\app.asar\frontend\out\index.html
[2025-10-20T13:46:26.835Z] [INFO] Found index.html at: C:\Users\DIGITAL MARKET\Documents\ProjetWaza\PROJET-POS\POS-ELECTRON\release\win-unpacked\resources\app.asar\frontend\out\index.html
[2025-10-20T13:46:33.636Z] [BACKEND] Processing table: SEED.ITMMASTER
 ITMMASTER: 546 rows copied.
 Processing table: SEED.ITMSALES
 ITMSALES: 534 rows copied.
 Processing table: SEED.ITMFACILIT
 ITMFACILIT: 3684 rows copied.
 Processing table: SEED.BPARTNER
 BPARTNER: 367 rows copied.
 Processing table: SEED.BPCUSTOMER
INFO:     127.0.0.1:13749 - "GET /clients HTTP/1.1" 307 Temporary Redirect
[2025-10-20T13:46:34.314Z] [BACKEND] Ex�cution de la requ�te pour l'�l�ment de facturation 0 avec query=
        SELECT T1.INVDTA_0, T1.INVDTAAMT_0, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_0 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
 Processing table: SEED.ITMMASTER
 BPCUSTOMER: 172 rows copied.
 Processing table: SEED.BPCUSTMVT
INFO:     127.0.0.1:13750 - "GET /adresse/expedition?legacy_comp=undefined HTTP/1.1" 200 OK
[2025-10-20T13:46:34.321Z] [BACKEND] INFO:     127.0.0.1:13751 - "GET /clients/tiers/?customer_code= HTTP/1.1" 500 Internal Server Error
[2025-10-20T13:46:34.333Z] [BACKEND-ERR] ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
  File "uvicorn\middleware\proxy_headers.py", line 60, in __call__
  File "fastapi\applications.py", line 1133, in __call__
  File "starlette\applications.py", line 113, in __call__
  File "starlette\middleware\errors.py", line 186, in __call__
  File "starlette\middleware\errors.py", line 164, in __call__
  File "starlette\middleware\cors.py", line 85, in __call__
  File "starlette\middleware\exceptions.py", line 63, in __call__
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\middleware\asyncexitstack.py", line 18, in __call__
  File "starlette\routing.py", line 716, in __call__
  File "starlette\routing.py", line 736, in app
  File "starlette\routing.py", line 290, in handle
  File "fastapi\routing.py", line 123, in app
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\routing.py", line 109, in app
  File "fastapi\routing.py", line 387, in app
  File "fastapi\routing.py", line 290, in run_endpoint_function
  File "starlette\concurrency.py", line 38, in run_in_threadpool
  File "anyio\to_thread.py", line 56, in run_sync
  File "anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
  File "anyio\_backends\_asyncio.py", line 976, in run
  File "src\clients\controller.py", line 17, in read_tiers
  File "src\clients\serivce.py", line 48, in get_tiers
TypeError: 'NoneType' object is not subscriptable
[2025-10-20T13:46:34.343Z] [BACKEND] Ex�cution de la requ�te pour l'�l�ment de facturation 1 avec query=
        SELECT T1.INVDTA_1, T1.INVDTAAMT_1, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_1 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 2 avec query=
        SELECT T1.INVDTA_2, T1.INVDTAAMT_2, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_2 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 3 avec query=
        SELECT T1.INVDTA_3, T1.INVDTAAMT_3, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_3 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
INFO:     127.0.0.1:13747 - "GET /adresse/vente HTTP/1.1" 200 OK
[2025-10-20T13:46:34.362Z] [BACKEND] Ex�cution de la requ�te pour l'�l�ment de facturation 4 avec query=
        SELECT T1.INVDTA_4, T1.INVDTAAMT_4, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_4 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 5 avec query=
        SELECT T1.INVDTA_5, T1.INVDTAAMT_5, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_5 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 6 avec query=
        SELECT T1.INVDTA_6, T1.INVDTAAMT_6, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_6 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 7 avec query=
        SELECT T1.INVDTA_7, T1.INVDTAAMT_7, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_7 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 8 avec query=
        SELECT T1.INVDTA_8, T1.INVDTAAMT_8, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_8 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 9 avec query=
        SELECT T1.INVDTA_9, T1.INVDTAAMT_9, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_9 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 10 avec query=
        SELECT T1.INVDTA_10, T1.INVDTAAMT_10, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_10 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 11 avec query=
        SELECT T1.INVDTA_11, T1.INVDTAAMT_11, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_11 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 12 avec query=
        SELECT T1.INVDTA_12, T1.INVDTAAMT_12, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_12 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
INFO:     127.0.0.1:13748 - "GET /command/type HTTP/1.1" 200 OK
[2025-10-20T13:46:34.691Z] [BACKEND] Ex�cution de la requ�te pour l'�l�ment de facturation 13 avec query=
        SELECT T1.INVDTA_13, T1.INVDTAAMT_13, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_13 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
INFO:     127.0.0.1:13750 - "GET /articles/?site_id= HTTP/1.1" 500 Internal Server Error
[2025-10-20T13:46:34.719Z] [BACKEND-ERR] ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
  File "uvicorn\middleware\proxy_headers.py", line 60, in __call__
  File "fastapi\applications.py", line 1133, in __call__
  File "starlette\applications.py", line 113, in __call__
  File "starlette\middleware\errors.py", line 186, in __call__
  File "starlette\middleware\errors.py", line 164, in __call__
  File "starlette\middleware\cors.py", line 85, in __call__
  File "starlette\middleware\exceptions.py", line 63, in __call__
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\middleware\asyncexitstack.py", line 18, in __call__
  File "starlette\routing.py", line 716, in __call__
  File "starlette\routing.py", line 736, in app
  File "starlette\routing.py", line 290, in handle
  File "fastapi\routing.py", line 123, in app
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\routing.py", line 109, in app
  File "fastapi\routing.py", line 387, in app
  File "fastapi\routing.py", line 290, in run_endpoint_function
  File "starlette\concurrency.py", line 38, in run_in_threadpool
  File "anyio\to_thread.py", line 56, in run_sync
  File "anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
  File "anyio\_backends\_asyncio.py", line 976, in run
  File "src\articles\controller.py", line 17, in create_article
  File "src\articles\service.py", line 15, in get_articles_site
sqlite3.OperationalError: no such table: ITMMASTER
[2025-10-20T13:46:34.720Z] [BACKEND] Ex�cution de la requ�te pour l'�l�ment de facturation 14 avec query=
        SELECT T1.INVDTA_14, T1.INVDTAAMT_14, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_14 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 15 avec query=
        SELECT T1.INVDTA_15, T1.INVDTAAMT_15, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_15 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 16 avec query=
        SELECT T1.INVDTA_16, T1.INVDTAAMT_16, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_16 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 17 avec query=
        SELECT T1.INVDTA_17, T1.INVDTAAMT_17, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_17 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 18 avec query=
        SELECT T1.INVDTA_18, T1.INVDTAAMT_18, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_18 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 19 avec query=
        SELECT T1.INVDTA_19, T1.INVDTAAMT_19, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_19 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 20 avec query=
        SELECT T1.INVDTA_20, T1.INVDTAAMT_20, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_20 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 21 avec query=
        SELECT T1.INVDTA_21, T1.INVDTAAMT_21, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_21 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 22 avec query=
        SELECT T1.INVDTA_22, T1.INVDTAAMT_22, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_22 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 23 avec query=
        SELECT T1.INVDTA_23, T1.INVDTAAMT_23, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_23 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 24 avec query=
        SELECT T1.INVDTA_24, T1.INVDTAAMT_24, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_24 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 25 avec query=
        SELECT T1.INVDTA_25, T1.INVDTAAMT_25, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_25 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 26 avec query=
        SELECT T1.INVDTA_26, T1.INVDTAAMT_26, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_26 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 27 avec query=
        SELECT T1.INVDTA_27, T1.INVDTAAMT_27, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_27 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 28 avec query=
        SELECT T1.INVDTA_28, T1.INVDTAAMT_28, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_28 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
Ex�cution de la requ�te pour l'�l�ment de facturation 29 avec query=
        SELECT T1.INVDTA_29, T1.INVDTAAMT_29, T2.VALTYP_0, T2.INCDCR_0, T2.LANDESSHO_0
        FROM BPCUSTOMER AS T1
        JOIN SFOOTINV AS T2 ON T1.INVDTA_29 = T2.SFINUM_0
        WHERE BPCNUM_0 = ?
        
INFO:     127.0.0.1:13748 - "GET /taxe/regime?customer_code= HTTP/1.1" 500 Internal Server Error
[2025-10-20T13:46:34.740Z] [BACKEND-ERR] ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
  File "uvicorn\middleware\proxy_headers.py", line 60, in __call__
  File "fastapi\applications.py", line 1133, in __call__
  File "starlette\applications.py", line 113, in __call__
  File "starlette\middleware\errors.py", line 186, in __call__
  File "starlette\middleware\errors.py", line 164, in __call__
  File "starlette\middleware\cors.py", line 85, in __call__
  File "starlette\middleware\exceptions.py", line 63, in __call__
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\middleware\asyncexitstack.py", line 18, in __call__
  File "starlette\routing.py", line 716, in __call__
  File "starlette\routing.py", line 736, in app
  File "starlette\routing.py", line 290, in handle
  File "fastapi\routing.py", line 123, in app
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\routing.py", line 109, in app
  File "fastapi\routing.py", line 387, in app
  File "fastapi\routing.py", line 290, in run_endpoint_function
  File "starlette\concurrency.py", line 38, in run_in_threadpool
  File "anyio\to_thread.py", line 56, in run_sync
  File "anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
  File "anyio\_backends\_asyncio.py", line 976, in run
  File "src\taxe\controller.py", line 14, in read_regime_taxe
  File "src\taxe\service.py", line 22, in get_regime_taxe
TypeError: 'NoneType' object is not subscriptable
[2025-10-20T13:46:34.748Z] [BACKEND] INFO:     127.0.0.1:13754 - "GET /currency/code?customer_code= HTTP/1.1" 500 Internal Server Error
[2025-10-20T13:46:34.784Z] [BACKEND-ERR] ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
  File "uvicorn\middleware\proxy_headers.py", line 60, in __call__
  File "fastapi\applications.py", line 1133, in __call__
  File "starlette\applications.py", line 113, in __call__
  File "starlette\middleware\errors.py", line 186, in __call__
  File "starlette\middleware\errors.py", line 164, in __call__
  File "starlette\middleware\cors.py", line 85, in __call__
  File "starlette\middleware\exceptions.py", line 63, in __call__
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\middleware\asyncexitstack.py", line 18, in __call__
  File "starlette\routing.py", line 716, in __call__
  File "starlette\routing.py", line 736, in app
  File "starlette\routing.py", line 290, in handle
  File "fastapi\routing.py", line 123, in app
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\routing.py", line 109, in app
  File "fastapi\routing.py", line 387, in app
  File "fastapi\routing.py", line 290, in run_endpoint_function
  File "starlette\concurrency.py", line 38, in run_in_threadpool
  File "anyio\to_thread.py", line 56, in run_sync
  File "anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
  File "anyio\_backends\_asyncio.py", line 976, in run
  File "src\currency\controller.py", line 12, in get_currency_code
  File "src\currency\service.py", line 12, in get_commande_currrency
TypeError: 'NoneType' object is not subscriptable
[2025-10-20T13:46:34.787Z] [BACKEND] INFO:     127.0.0.1:13749 - "GET /facture/element?customer_code= HTTP/1.1" 200 OK
[2025-10-20T13:46:34.790Z] [BACKEND] INFO:     127.0.0.1:13747 - "GET /clients/ HTTP/1.1" 200 OK
[2025-10-20T13:46:37.731Z] [BACKEND] BPCUSTMVT: 231 rows copied.
 Processing table: SEED.BPDLVCUST
 BPDLVCUST: 217 rows copied.
 Processing table: SEED.SALESREP
 SALESREP: 31 rows copied.
 Processing table: SEED.SPRICLINK
 SPRICLINK: 0 rows copied.
 Processing table: SEED.PRICSTRUCT
 PRICSTRUCT: 5 rows copied.
 Processing table: SEED.SPREASON
INFO:     127.0.0.1:13747 - "GET /clients/tiers/?customer_code= HTTP/1.1" 500 Internal Server Error
[2025-10-20T13:46:37.740Z] [BACKEND-ERR] ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
  File "uvicorn\middleware\proxy_headers.py", line 60, in __call__
  File "fastapi\applications.py", line 1133, in __call__
  File "starlette\applications.py", line 113, in __call__
  File "starlette\middleware\errors.py", line 186, in __call__
  File "starlette\middleware\errors.py", line 164, in __call__
  File "starlette\middleware\cors.py", line 85, in __call__
  File "starlette\middleware\exceptions.py", line 63, in __call__
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\middleware\asyncexitstack.py", line 18, in __call__
  File "starlette\routing.py", line 716, in __call__
  File "starlette\routing.py", line 736, in app
  File "starlette\routing.py", line 290, in handle
  File "fastapi\routing.py", line 123, in app
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\routing.py", line 109, in app
  File "fastapi\routing.py", line 387, in app
  File "fastapi\routing.py", line 290, in run_endpoint_function
  File "starlette\concurrency.py", line 38, in run_in_threadpool
  File "anyio\to_thread.py", line 56, in run_sync
  File "anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
  File "anyio\_backends\_asyncio.py", line 976, in run
  File "src\clients\controller.py", line 17, in read_tiers
  File "src\clients\serivce.py", line 48, in get_tiers
TypeError: 'NoneType' object is not subscriptable
[2025-10-20T13:46:38.029Z] [BACKEND] INFO:     127.0.0.1:13762 - "GET /currency/code?customer_code= HTTP/1.1" 500 Internal Server Error
[2025-10-20T13:46:38.041Z] [BACKEND-ERR] ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
  File "uvicorn\middleware\proxy_headers.py", line 60, in __call__
  File "fastapi\applications.py", line 1133, in __call__
  File "starlette\applications.py", line 113, in __call__
  File "starlette\middleware\errors.py", line 186, in __call__
  File "starlette\middleware\errors.py", line 164, in __call__
  File "starlette\middleware\cors.py", line 85, in __call__
  File "starlette\middleware\exceptions.py", line 63, in __call__
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\middleware\asyncexitstack.py", line 18, in __call__
  File "starlette\routing.py", line 716, in __call__
  File "starlette\routing.py", line 736, in app
  File "starlette\routing.py", line 290, in handle
  File "fastapi\routing.py", line 123, in app
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\routing.py", line 109, in app
  File "fastapi\routing.py", line 387, in app
  File "fastapi\routing.py", line 290, in run_endpoint_function
  File "starlette\concurrency.py", line 38, in run_in_threadpool
  File "anyio\to_thread.py", line 56, in run_sync
  File "anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
  File "anyio\_backends\_asyncio.py", line 976, in run
  File "src\currency\controller.py", line 12, in get_currency_code
  File "src\currency\service.py", line 12, in get_commande_currrency
TypeError: 'NoneType' object is not subscriptable
[2025-10-20T13:46:38.046Z] [BACKEND] INFO:     127.0.0.1:13763 - "GET /clients/tiers/?customer_code= HTTP/1.1" 500 Internal Server Error
[2025-10-20T13:46:38.057Z] [BACKEND-ERR] ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
  File "uvicorn\middleware\proxy_headers.py", line 60, in __call__
  File "fastapi\applications.py", line 1133, in __call__
  File "starlette\applications.py", line 113, in __call__
  File "starlette\middleware\errors.py", line 186, in __call__
  File "starlette\middleware\errors.py", line 164, in __call__
  File "starlette\middleware\cors.py", line 85, in __call__
  File "starlette\middleware\exceptions.py", line 63, in __call__
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\middleware\asyncexitstack.py", line 18, in __call__
  File "starlette\routing.py", line 716, in __call__
  File "starlette\routing.py", line 736, in app
  File "starlette\routing.py", line 290, in handle
  File "fastapi\routing.py", line 123, in app
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\routing.py", line 109, in app
  File "fastapi\routing.py", line 387, in app
  File "fastapi\routing.py", line 290, in run_endpoint_function
  File "starlette\concurrency.py", line 38, in run_in_threadpool
  File "anyio\to_thread.py", line 56, in run_sync
  File "anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
  File "anyio\_backends\_asyncio.py", line 976, in run
  File "src\clients\controller.py", line 17, in read_tiers
  File "src\clients\serivce.py", line 48, in get_tiers
TypeError: 'NoneType' object is not subscriptable
[2025-10-20T13:46:38.059Z] [BACKEND] INFO:     127.0.0.1:13761 - "GET /taxe/regime?customer_code= HTTP/1.1" 500 Internal Server Error
[2025-10-20T13:46:38.084Z] [BACKEND-ERR] ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "uvicorn\protocols\http\h11_impl.py", line 403, in run_asgi
  File "uvicorn\middleware\proxy_headers.py", line 60, in __call__
  File "fastapi\applications.py", line 1133, in __call__
  File "starlette\applications.py", line 113, in __call__
  File "starlette\middleware\errors.py", line 186, in __call__
  File "starlette\middleware\errors.py", line 164, in __call__
  File "starlette\middleware\cors.py", line 85, in __call__
  File "starlette\middleware\exceptions.py", line 63, in __call__
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\middleware\asyncexitstack.py", line 18, in __call__
  File "starlette\routing.py", line 716, in __call__
  File "starlette\routing.py", line 736, in app
  File "starlette\routing.py", line 290, in handle
  File "fastapi\routing.py", line 123, in app
  File "starlette\_exception_handler.py", line 53, in wrapped_app
  File "starlette\_exception_handler.py", line 42, in wrapped_app
  File "fastapi\routing.py", line 109, in app
  File "fastapi\routing.py", line 387, in app
  File "fastapi\routing.py", line 290, in run_endpoint_function
  File "starlette\concurrency.py", line 38, in run_in_threadpool
  File "anyio\to_thread.py", line 56, in run_sync
  File "anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
  File "anyio\_backends\_asyncio.py", line 976, in run
  File "src\taxe\controller.py", line 14, in read_regime_taxe
  File "src\taxe\service.py", line 22, in get_regime_taxe
TypeError: 'NoneType' object is not subscriptable
[2025-10-20T13:46:38.087Z] [BACKEND] INFO:     127.0.0.1:13749 - "GET /adresse/livraison?code_client= HTTP/1.1" 200 OK
[2025-10-20T13:46:38.763Z] [BACKEND] SPREASON: 18 rows copied.
 Processing table: SEED.SPRICCONF
INFO:     127.0.0.1:13766 - "GET /clients HTTP/1.1" 307 Temporary Redirect
[2025-10-20T13:46:38.964Z] [BACKEND] INFO:     127.0.0.1:13765 - "GET /command/type HTTP/1.1" 200 OK
[2025-10-20T13:46:38.972Z] [BACKEND] INFO:     127.0.0.1:13749 - "GET /adresse/vente HTTP/1.1" 200 OK
[2025-10-20T13:46:38.987Z] [BACKEND] INFO:     127.0.0.1:13766 - "GET /clients/ HTTP/1.1" 200 OK
[2025-10-20T13:46:46.390Z] [INFO] All windows closed, cleaning up
[2025-10-20T13:46:46.395Z] [INFO] Starting enhanced process cleanup
[2025-10-20T13:46:46.395Z] [INFO] Terminating backend process gracefully
[2025-10-20T13:46:46.458Z] [WARN] Backend process exited with code null, signal: SIGTERM
[2025-10-20T13:46:46.460Z] [INFO] Cleaning up processes on ports
[2025-10-20T13:46:46.461Z] [INFO] Attempting to kill processes on port 7626
[2025-10-20T13:46:46.736Z] [INFO] Killing processes on port 7626: 16980, 11556
[2025-10-20T13:46:47.400Z] [INFO] Successfully killed process tree for PID 16980
[2025-10-20T13:46:47.491Z] [INFO] Successfully killed process tree for PID 11556
[2025-10-20T13:46:49.511Z] [INFO] Final port cleanup verification
[2025-10-20T13:46:49.514Z] [INFO] Attempting to kill processes on port 7626
[2025-10-20T13:46:49.679Z] [DEBUG] No valid PIDs found for port 7626
[2025-10-20T13:46:49.679Z] [INFO] Enhanced process cleanup completed successfully
